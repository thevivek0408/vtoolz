<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Rock Paper Scissors</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0f0f1a;color:#e0e0e0;font-family:'Segoe UI',Arial,sans-serif;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding:16px}
h1{font-size:1.5rem;margin-bottom:8px;background:linear-gradient(135deg,#fd79a8,#e17055,#fdcb6e);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.mode{margin-bottom:12px;display:flex;gap:6px}
.mode button{background:#1e1e3a;border:1px solid #444;color:#e0e0e0;padding:6px 14px;border-radius:8px;cursor:pointer;font-size:.8rem}
.mode button.active{background:#6c5ce7;border-color:#6c5ce7;color:#fff}
.score-bar{display:flex;gap:12px;margin-bottom:16px;font-size:.85rem;flex-wrap:wrap;justify-content:center}
.score-bar .s{background:#1a1a2e;padding:8px 16px;border-radius:20px;border:1px solid #333}
.score-bar b{color:#fdcb6e}
.battle{display:flex;align-items:center;gap:clamp(16px,6vw,40px);margin-bottom:20px}
.player-side{text-align:center}
.player-side .label{font-size:.75rem;color:#888;margin-bottom:4px}
.hand{width:clamp(80px,20vw,120px);height:clamp(80px,20vw,120px);border-radius:50%;background:#1a1a2e;border:3px solid #333;display:flex;align-items:center;justify-content:center;font-size:clamp(2.5rem,8vw,4rem);transition:all .3s}
.hand.win{border-color:#55efc4;box-shadow:0 0 20px #55efc422}
.hand.lose{border-color:#ff7675;box-shadow:0 0 20px #ff767522}
.hand.draw{border-color:#fdcb6e;box-shadow:0 0 20px #fdcb6e22}
.hand.shake{animation:shake .5s ease}
@keyframes shake{0%,100%{transform:translateY(0)}25%{transform:translateY(-12px)}50%{transform:translateY(4px)}75%{transform:translateY(-6px)}}
.vs{font-size:1.5rem;font-weight:700;color:#555}
.msg{font-size:1.1rem;font-weight:700;min-height:1.5em;margin-bottom:16px;text-align:center}
.msg.win{color:#55efc4}
.msg.lose{color:#ff7675}
.msg.draw{color:#fdcb6e}
.choices{display:flex;gap:clamp(8px,3vw,16px);flex-wrap:wrap;justify-content:center;margin-bottom:16px}
.choice{width:clamp(70px,18vw,90px);height:clamp(70px,18vw,90px);border-radius:16px;background:#1e1e3a;border:2px solid #444;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;gap:4px}
.choice:hover{border-color:#6c5ce7;transform:translateY(-4px)}
.choice:active{transform:scale(.95)}
.choice .emoji{font-size:clamp(1.5rem,5vw,2.2rem)}
.choice .name{font-size:.65rem;color:#aaa;text-transform:uppercase}
.history{max-width:400px;width:100%;margin-top:8px}
.history h3{font-size:.8rem;color:#666;margin-bottom:4px}
.rounds{display:flex;gap:3px;flex-wrap:wrap}
.dot{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.6rem}
.dot.w{background:#00b89433;color:#55efc4}
.dot.l{background:#d6303133;color:#ff7675}
.dot.d{background:#fdcb6e33;color:#fdcb6e}
.controls{margin-top:8px}
.controls button{background:#1e1e3a;border:1px solid #444;color:#e0e0e0;padding:8px 20px;border-radius:8px;cursor:pointer;font-size:.85rem}
.controls button:hover{background:#6c5ce7;border-color:#6c5ce7;color:#fff}
</style>
</head>
<body>
<h1>Rock Paper Scissors</h1>
<div class="mode">
  <button class="active" id="m3" onclick="setMode(3)">Classic</button>
  <button id="m5" onclick="setMode(5)">RPSLS</button>
</div>
<div class="score-bar">
  <div class="s">You: <b id="pScore">0</b></div>
  <div class="s">Ties: <b id="tScore">0</b></div>
  <div class="s">AI: <b id="cScore">0</b></div>
</div>
<div class="battle">
  <div class="player-side"><div class="label">You</div><div class="hand" id="pHand">‚ùì</div></div>
  <div class="vs">VS</div>
  <div class="player-side"><div class="label">AI</div><div class="hand" id="cHand">‚ùì</div></div>
</div>
<div class="msg" id="msg">Choose your weapon!</div>
<div class="choices" id="choices"></div>
<div class="history"><h3>History</h3><div class="rounds" id="rounds"></div></div>
<div class="controls"><button onclick="resetGame()">Reset Score</button></div>
<script>
const MOVES3=[
  {name:'Rock',emoji:'ü™®'},
  {name:'Paper',emoji:'üìÑ'},
  {name:'Scissors',emoji:'‚úÇÔ∏è'}
];
const MOVES5=[
  {name:'Rock',emoji:'ü™®'},
  {name:'Paper',emoji:'üìÑ'},
  {name:'Scissors',emoji:'‚úÇÔ∏è'},
  {name:'Lizard',emoji:'ü¶é'},
  {name:'Spock',emoji:'üññ'}
];
// Wins: key beats values
const WINS3={0:[2],1:[0],2:[1]};
const WINS5={0:[2,3],1:[0,4],2:[1,3],3:[1,4],4:[0,2]};

let mode=3,moves=MOVES3,wins=WINS3,pScore=0,cScore=0,tScore=0,history=[],playing=false;

function setMode(m){
  mode=m;moves=m===3?MOVES3:MOVES5;wins=m===3?WINS3:WINS5;
  document.getElementById('m3').className=m===3?'active':'';
  document.getElementById('m5').className=m===5?'active':'';
  resetGame();renderChoices();
}

function renderChoices(){
  const el=document.getElementById('choices');el.innerHTML='';
  moves.forEach((m,i)=>{
    const d=document.createElement('div');d.className='choice';
    d.innerHTML=`<div class="emoji">${m.emoji}</div><div class="name">${m.name}</div>`;
    d.onclick=()=>play(i);
    el.appendChild(d);
  });
}

function play(pIdx){
  if(playing)return;playing=true;
  let cIdx=Math.floor(Math.random()*moves.length);
  
  const pH=document.getElementById('pHand');
  const cH=document.getElementById('cHand');
  pH.textContent='‚ùì';cH.textContent='‚ùì';
  pH.className='hand shake';cH.className='hand shake';
  document.getElementById('msg').textContent='...';document.getElementById('msg').className='msg';
  
  setTimeout(()=>{
    pH.textContent=moves[pIdx].emoji;
    cH.textContent=moves[cIdx].emoji;
    
    let result;
    if(pIdx===cIdx){result='draw';tScore++;document.getElementById('tScore').textContent=tScore}
    else if(wins[pIdx].includes(cIdx)){result='win';pScore++;document.getElementById('pScore').textContent=pScore}
    else{result='lose';cScore++;document.getElementById('cScore').textContent=cScore}
    
    pH.className='hand '+(result==='draw'?'draw':result==='win'?'win':'lose');
    cH.className='hand '+(result==='draw'?'draw':result==='lose'?'win':'lose');
    
    let msgs={win:'You win! üéâ',lose:'AI wins! üíÄ',draw:"It's a tie! ü§ù"};
    document.getElementById('msg').textContent=`${moves[pIdx].name} vs ${moves[cIdx].name} ‚Äî ${msgs[result]}`;
    document.getElementById('msg').className='msg '+result;
    
    history.push(result);
    renderHistory();
    playing=false;
  },500);
}

function renderHistory(){
  const el=document.getElementById('rounds');el.innerHTML='';
  history.slice(-30).forEach(r=>{
    let d=document.createElement('div');
    d.className='dot '+(r==='win'?'w':r==='lose'?'l':'d');
    d.textContent=r==='win'?'W':r==='lose'?'L':'D';
    el.appendChild(d);
  });
}

function resetGame(){
  pScore=0;cScore=0;tScore=0;history=[];
  document.getElementById('pScore').textContent=0;
  document.getElementById('cScore').textContent=0;
  document.getElementById('tScore').textContent=0;
  document.getElementById('pHand').textContent='‚ùì';document.getElementById('pHand').className='hand';
  document.getElementById('cHand').textContent='‚ùì';document.getElementById('cHand').className='hand';
  document.getElementById('msg').textContent='Choose your weapon!';document.getElementById('msg').className='msg';
  document.getElementById('rounds').innerHTML='';
}

renderChoices();
</script>
</body>
</html>
