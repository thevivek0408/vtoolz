var e=class e{static transparent=new e(0,0,0,0);static solidOpaque=new e(1,1,1,1);static red=new e(1,0,0,1);static blue=new e(0,0,1,1);static green=new e(0,1,0,1);static black=new e(0,0,0,1);static white=e.solidOpaque;static styles={SOLID_OPAQUE:`rgba(255,255,255,1)`,TRANSPARENT:`rgba(0,0,0,0)`};constructor(e,t,n,r){this.r=e,this.g=t,this.b=n,this.a=r}rgbaStyle(){return`rgba(${Math.round(this.r*255)},${Math.round(this.g*255)},${Math.round(this.b*255)},${this.a.toFixed(2)})`}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}copy(){return new e(this.r,this.g,this.b,this.a)}copyFrom(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a}add(e){this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a}multiply(e){this.r*=e,this.g*=e,this.b*=e,this.a*=e}},t=function(e){return e[e.UNDEFINED=0]=`UNDEFINED`,e[e.LEFT=1]=`LEFT`,e[e.HCENTER=2]=`HCENTER`,e[e.RIGHT=4]=`RIGHT`,e[e.TOP=8]=`TOP`,e[e.VCENTER=16]=`VCENTER`,e[e.BOTTOM=32]=`BOTTOM`,e[e.CENTER=18]=`CENTER`,e}(t||{}),n=t,r={MAX_TOUCHES:2,DIM_TIMEOUT:.15,UNDEFINED:-1,FLOAT_PRECISION:1e-6,TIME_SCALE:1,PIXEL_TO_SI_METERS_K:80,AIR_RESISTANCE:.15,MAX_FORCES:10,CANDY2_FLAG:-2,INT_MAX:2147483647},i=new class{element=null;context=null;id=null;domReady(e){let t=document.getElementById(e);t instanceof HTMLCanvasElement&&this.setTarget(t)}setTarget(t){this.id=t,this.element=t;let n=this.element.getContext(`2d`);if(!n)throw Error(`Failed to get 2D context from canvas element`);this.context=n,this.setStyleColor(e.white)}setStyleColor(e){let t=e.rgbaStyle();this.context&&(this.context.fillStyle=t,this.context.strokeStyle=t)}setStyles(e){this.context&&(this.context.fillStyle=e,this.context.strokeStyle=e)}fillTriangleStrip(e,t){let n=this.context;if(!(!n||e.length===0)){n.fillStyle=t,n.beginPath(),n.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t+=2){let r=e[t];n.lineTo(r.x,r.y)}for(let t=e.length-2;t>=0;t-=2){let r=e[t];n.lineTo(r.x,r.y)}n.fill()}}},a={SET_VISIBLE:`ACTION_SET_VISIBLE`,SET_TOUCHABLE:`ACTION_SET_TOUCHABLE`,SET_UPDATEABLE:`ACTION_SET_UPDATEABLE`,SET_DRAWQUAD:`ACTION_SET_DRAWQUAD`,PLAY_TIMELINE:`ACTION_PLAY_TIMELINE`,PAUSE_TIMELINE:`ACTION_PAUSE_TIMELINE`,STOP_TIMELINE:`ACTION_STOP_TIMELINE`,JUMP_TO_TIMELINE_FRAME:`ACTION_JUMP_TO_TIMELINE_FRAME`},o=class e{static zero=new e(0,0);static undefined=e.newUndefined();static _tmpBezierX=Array(64).fill(0);static _tmpBezierY=Array(64).fill(0);constructor(e,t){this.x=e,this.y=t}static newZero(){return new e(0,0)}static newUndefined(){let t=2147483647;return new e(t,t)}static add(t,n){return new e(t.x+n.x,t.y+n.y)}static subtract(t,n){return new e(t.x-n.x,t.y-n.y)}static multiply(t,n){return new e(t.x*n,t.y*n)}static divide(t,n){return new e(t.x/n,t.y/n)}static distance(e,t,n,r){let i=e-n,a=t-r,o=i*i+a*a;return Math.sqrt(o)}static perpendicular(t){return new e(-t.y,t.x)}static rPerpendicular(t){return new e(t.y,-t.x)}static normalize(e){return this.multiply(e,1/e.getLength())}static negate(t){return new e(-t.x,-t.y)}static calcPathBezier(t,n){let r=new e(0,0);return e.setCalcPathBezier(t,n,r),r}static setCalcPathBezier(t,n,r){let i=t.length;if(i<=1){r.x=0,r.y=0;return}let a=e._tmpBezierX,o=e._tmpBezierY,s=1-n;for(let e=0;e<i;e++){let n=t[e];n&&(a[e]=n.x,o[e]=n.y)}let c=i-1;for(;c>0;i--,c--){let e=0,t=1;for(;e<c;e++,t++){let r=a[e],i=a[t];if(r===void 0||i===void 0)continue;a[e]=r*s+i*n;let c=o[e],l=o[t];c===void 0||l===void 0||(o[e]=c*s+l*n)}}r.x=a[0]??0,r.y=o[0]??0}static forAngle(t){return new e(Math.cos(t),Math.sin(t))}getLength(){let e=this.x*this.x+this.y*this.y;return Math.sqrt(e)}getDot(e){return this.x*e.x+this.y*e.y}isZero(){return this.x===0&&this.y===0}equals(e){return this.x===e.x&&this.y===e.y}setToZero(){this.x=0,this.y=0}angle(){return Math.atan(this.y/this.x)}normalizedAngle(){return Math.atan2(this.y,this.x)}copy(){return new e(this.x,this.y)}copyFrom(e){this.x=e.x,this.y=e.y}round(){this.x=Math.round(this.x),this.y=Math.round(this.y)}rotate(e){let t=Math.cos(e),n=Math.sin(e),r=this.x*t-this.y*n,i=this.x*n+this.y*t;this.x=r,this.y=i}rotateAround(e,t,n){this.x-=t,this.y-=n,this.rotate(e),this.x+=t,this.y+=n}toString(){return`[${this.x}, ${this.y}]`}add(e){this.x+=e.x,this.y+=e.y}subtract(e){this.x-=e.x,this.y-=e.y}multiply(e){this.x*=e,this.y*=e}divide(e){this.x/=e,this.y/=e}distance(e){let t=this.x-e.x,n=this.y-e.y,r=t*t+n*n;return Math.sqrt(r)}normalize(){this.multiply(1/this.getLength())}},s=class{actionName;actionParam;actionSubParam;constructor(e,t,n){this.actionName=e,this.actionParam=t,this.actionSubParam=n}},c=class e{actionTarget;data;actionName;actionParam;actionSubParam;constructor(e,t){this.actionTarget=e,this.data=t,this.actionName=``,this.actionParam=0,this.actionSubParam=0}static create(t,n,r,i){return new e(t,new s(n,r,i))}},l={POSITION:0,SCALE:1,ROTATION:2,COLOR:3,ACTION:4,COUNT:5},u={LINEAR:0,IMMEDIATE:1,EASE_IN:2,EASE_OUT:3},d=class t{pos;scale;rotationAngle;color;actionSet;constructor(){this.pos=o.newZero(),this.scale=o.newZero(),this.rotationAngle=0,this.color=e.solidOpaque.copy(),this.actionSet=[]}copy(){let e=new t;return e.pos=this.pos.copy(),e.scale=this.scale.copy(),e.rotationAngle=this.rotationAngle,e.color=this.color.copy(),e.actionSet=this.actionSet.slice(0),e}},f=class e{static TransitionType=u;timeOffset;trackType;transitionType;value;constructor(e,t,n,r){this.timeOffset=e,this.trackType=t,this.transitionType=n,this.value=r}static newEmpty(){return new e(0,l.POSITION,e.TransitionType.LINEAR,new d)}static makePos(t,n,r,i){let a=new d;return a.pos.x=t,a.pos.y=n,new e(i,l.POSITION,r,a)}static makeScale(t,n,r,i){let a=new d;return a.scale.x=t,a.scale.y=n,new e(i,l.SCALE,r,a)}static makeRotation(t,n,r){let i=new d;return i.rotationAngle=t,new e(r,l.ROTATION,n,i)}static makeColor(t,n,r){let i=new d;return i.color=t,new e(r,l.COLOR,n,i)}static makeAction(t,n){let r=new d;return r.actionSet=t,new e(n,l.ACTION,e.TransitionType.LINEAR,r)}static makeSingleAction(t,n,r,i,a){let o=new d;return o.actionSet=[c.create(t,n,r,i)],new e(a,l.ACTION,e.TransitionType.LINEAR,o)}copy(){return new e(this.timeOffset,this.trackType,this.transitionType,this.value.copy())}},p={[l.POSITION]:{applyEaseStep(e,t,n){let r=e.t.element;if(!r)return;let i=e.currentStepAcceleration.value.pos,a=i.x*n,o=i.y*n,s=e.currentStepPerSecond.value.pos,c=s.x,l=s.y;s.x+=a,s.y+=o,r.x+=(c+a/2)*n,r.y+=(l+o/2)*n},applyLinearStep(e,t){let n=e.currentStepPerSecond.value.pos,r=e.t.element;r&&(r.x+=n.x*t,r.y+=n.y*t)},setElementFromKeyFrame(e,t){let n=e.t.element;if(!n)return;let r=t.value.pos;if(!e.relative){n.x=r.x,n.y=r.y;return}let i=e.elementPrevState.value.pos;n.x=i.x+r.x,n.y=i.y+r.y},setKeyFrameFromElement(e,t){let n=t.value.pos,r=e.t.element;r&&(n.x=r.x,n.y=r.y)},initKeyFrameStepFrom(e,t,n){let r=e.currentStepPerSecond.value.pos,i=n.value.pos,a=t.value.pos;r.x=(i.x-a.x)/e.keyFrameTimeLeft,r.y=(i.y-a.y)/e.keyFrameTimeLeft},configureEase(e,t,n,r,i){if(!r&&!i)return;let a=e.currentStepPerSecond.value.pos,o=e.currentStepAcceleration.value.pos;a.multiply(2),o.x=a.x/e.keyFrameTimeLeft,o.y=a.y/e.keyFrameTimeLeft,r?(a.x=0,a.y=0):o.multiply(-1)}},[l.SCALE]:{applyEaseStep(e,t,n){let r=e.t.element;if(!r)return;let i=e.currentStepAcceleration.value.scale,a=i.x*n,o=i.y*n,s=e.currentStepPerSecond.value.scale,c=s.x,l=s.y;s.x+=a,s.y+=o,r.scaleX+=(c+a/2)*n,r.scaleY+=(l+o/2)*n},applyLinearStep(e,t){let n=e.currentStepPerSecond.value.scale,r=e.t.element;r&&(r.scaleX+=n.x*t,r.scaleY+=n.y*t)},setElementFromKeyFrame(e,t){let n=e.t.element;if(!n)return;let r=t.value.scale;if(!e.relative){n.scaleX=r.x,n.scaleY=r.y;return}let i=e.elementPrevState.value.scale;n.scaleX=i.x+r.x,n.scaleY=i.y+r.y},setKeyFrameFromElement(e,t){let n=t.value.scale,r=e.t.element;r&&(n.x=r.scaleX,n.y=r.scaleY)},initKeyFrameStepFrom(e,t,n){let r=e.currentStepPerSecond.value.scale,i=n.value.scale,a=t.value.scale;r.x=(i.x-a.x)/e.keyFrameTimeLeft,r.y=(i.y-a.y)/e.keyFrameTimeLeft},configureEase(e,t,n,r,i){if(!r&&!i)return;let a=e.currentStepPerSecond.value.scale,o=e.currentStepAcceleration.value.scale;a.multiply(2),o.x=a.x/e.keyFrameTimeLeft,o.y=a.y/e.keyFrameTimeLeft,r?(a.x=0,a.y=0):o.multiply(-1)}},[l.ROTATION]:{applyEaseStep(e,t,n){let r=e.t.element;if(!r)return;let i=e.currentStepAcceleration.value.rotationAngle*n,a=e.currentStepPerSecond.value.rotationAngle;e.currentStepPerSecond.value.rotationAngle+=i,r.rotation+=(a+i/2)*n},applyLinearStep(e,t){let n=e.t.element;if(!n)return;let r=e.currentStepPerSecond.value.rotationAngle;n.rotation+=r*t},setElementFromKeyFrame(e,t){let n=e.t.element;if(n){if(!e.relative){n.rotation=t.value.rotationAngle;return}n.rotation=e.elementPrevState.value.rotationAngle+t.value.rotationAngle}},setKeyFrameFromElement(e,t){let n=e.t.element;n&&(t.value.rotationAngle=n.rotation)},initKeyFrameStepFrom(e,t,n){e.currentStepPerSecond.value.rotationAngle=(n.value.rotationAngle-t.value.rotationAngle)/e.keyFrameTimeLeft},configureEase(e,t,n,r,i){if(!r&&!i)return;let a=e.currentStepPerSecond.value,o=e.currentStepAcceleration.value;a.rotationAngle*=2,o.rotationAngle=a.rotationAngle/e.keyFrameTimeLeft,r?a.rotationAngle=0:o.rotationAngle*=-1}},[l.COLOR]:{applyEaseStep(e,t,n){let r=e.t.element;if(!r)return;let i=e.currentStepPerSecond.value.color,a=i.r,o=i.g,s=i.b,c=i.a,l=e.currentStepAcceleration.value.color,u=l.r*n,d=l.g*n,f=l.b*n,p=l.a*n;i.r+=u*2,i.g+=d*2,i.b+=f*2,i.a+=p*2;let m=r.color;m.r+=(a+u/2)*n,m.g+=(o+d/2)*n,m.b+=(s+f/2)*n,m.a+=(c+p/2)*n},applyLinearStep(e,t){let n=e.t.element;if(!n)return;let r=e.currentStepPerSecond.value.color,i=n.color;i.r+=r.r*t,i.g+=r.g*t,i.b+=r.b*t,i.a+=r.a*t},setElementFromKeyFrame(e,t){let n=e.t.element;if(!n)return;let r=n.color,i=t.value.color;if(!e.relative){r.copyFrom(i);return}let a=e.elementPrevState.value.color;r.r=a.r+i.r,r.g=a.g+i.g,r.b=a.b+i.b,r.a=a.a+i.a},setKeyFrameFromElement(e,t){let n=e.t.element;n&&t.value.color.copyFrom(n.color)},initKeyFrameStepFrom(e,t,n){let r=e.currentStepPerSecond.value.color,i=n.value.color,a=t.value.color;r.r=(i.r-a.r)/e.keyFrameTimeLeft,r.g=(i.g-a.g)/e.keyFrameTimeLeft,r.b=(i.b-a.b)/e.keyFrameTimeLeft,r.a=(i.a-a.a)/e.keyFrameTimeLeft},configureEase(e,t,n,r,i){if(!r&&!i)return;let a=e.currentStepPerSecond.value.color,o=e.currentStepAcceleration.value.color;a.multiply(2),o.r=a.r/e.keyFrameTimeLeft,o.g=a.g/e.keyFrameTimeLeft,o.b=a.b/e.keyFrameTimeLeft,o.a=a.a/e.keyFrameTimeLeft,r?a.multiply(0):o.multiply(-1)}}},m={NOT_ACTIVE:0,ACTIVE:1},h=class{type;state;relative;startTime;endTime;keyFrames;t;strategy;nextKeyFrame;currentStepPerSecond;currentStepAcceleration;elementPrevState;keyFrameTimeLeft;overrun;actionSets;constructor(e,t){this.type=t,this.state=m.NOT_ACTIVE,this.relative=!1,this.startTime=0,this.endTime=0,this.keyFrames=[],this.t=e,this.strategy=p[t]??null,this.nextKeyFrame=r.UNDEFINED,this.currentStepPerSecond=f.newEmpty(),this.currentStepAcceleration=f.newEmpty(),this.elementPrevState=f.newEmpty(),this.keyFrameTimeLeft=0,this.overrun=0,t===l.ACTION&&(this.actionSets=[])}deactivate(){this.state=m.NOT_ACTIVE}addKeyFrame(e){this.setKeyFrame(e,this.keyFrames.length)}setKeyFrame(e,t){this.keyFrames[t]=e,this.type===l.ACTION&&this.actionSets&&this.actionSets.push(e.value.actionSet)}getFrameTime(e){let t=0;for(let n=0;n<=e;n++){let e=this.keyFrames[n];e&&(t+=e.timeOffset)}return t}updateRange(){this.startTime=this.getFrameTime(0),this.endTime=this.getFrameTime(this.keyFrames.length-1)}updateActionTrack(e){if(this.state===m.NOT_ACTIVE){if(this.t.timelineDirReverse){if(!(this.t.time+e<this.startTime||this.t.time>this.endTime))if(this.keyFrames.length>1){this.state=m.ACTIVE,this.nextKeyFrame=this.keyFrames.length-1,this.overrun=this.endTime-this.t.time,this.nextKeyFrame--;let e=this.keyFrames[this.nextKeyFrame+1],t=this.keyFrames[this.nextKeyFrame];e&&t&&this.initActionKeyFrame(e,t.timeOffset)}else{let e=this.keyFrames[0];e&&this.initActionKeyFrame(e,0)}}else if(!(this.t.time-e>this.endTime||this.t.time<this.startTime))if(this.keyFrames.length>1){this.state=m.ACTIVE,this.nextKeyFrame=0,this.overrun=this.t.time-this.startTime,this.nextKeyFrame++;let e=this.keyFrames[this.nextKeyFrame-1],t=this.keyFrames[this.nextKeyFrame];e&&t&&this.initActionKeyFrame(e,t.timeOffset)}else{let e=this.keyFrames[0];e&&this.initActionKeyFrame(e,0)}return}if(this.keyFrameTimeLeft-=e,this.keyFrameTimeLeft<=r.FLOAT_PRECISION)if(this.t.onKeyFrame&&this.t.onKeyFrame(this.t,this.type,this.nextKeyFrame),this.overrun=-this.keyFrameTimeLeft,this.nextKeyFrame===this.keyFrames.length-1){let e=this.keyFrames[this.nextKeyFrame];e&&this.setElementFromKeyFrame(e),this.state=m.NOT_ACTIVE}else if(this.nextKeyFrame===0){let e=this.keyFrames[this.nextKeyFrame];e&&this.setElementFromKeyFrame(e),this.state=m.NOT_ACTIVE}else if(this.t.timelineDirReverse){this.nextKeyFrame--;let e=this.keyFrames[this.nextKeyFrame+1];e&&this.initActionKeyFrame(e,e.timeOffset)}else{this.nextKeyFrame++;let e=this.keyFrames[this.nextKeyFrame-1],t=this.keyFrames[this.nextKeyFrame];e&&t&&this.initActionKeyFrame(e,t.timeOffset)}}updateNonActionTrack(e){let t=this.t,n;if(this.state===m.NOT_ACTIVE){if(t.time>=this.startTime&&t.time<=this.endTime)if(this.state=m.ACTIVE,t.timelineDirReverse){this.nextKeyFrame=this.keyFrames.length-1,this.overrun=this.endTime-t.time,this.nextKeyFrame--,n=this.keyFrames[this.nextKeyFrame+1];let e=this.keyFrames[this.nextKeyFrame];n&&e&&this.initKeyFrameStepFrom(n,e,n.timeOffset)}else{this.nextKeyFrame=0,this.overrun=t.time-this.startTime,this.nextKeyFrame++,n=this.keyFrames[this.nextKeyFrame];let e=this.keyFrames[this.nextKeyFrame-1];n&&e&&this.initKeyFrameStepFrom(e,n,n.timeOffset)}return}this.keyFrameTimeLeft-=e,n=this.keyFrames[this.nextKeyFrame];let i=this.strategy;if(!(!i||!n)&&(n.transitionType===f.TransitionType.EASE_IN||n.transitionType===f.TransitionType.EASE_OUT?i.applyEaseStep(this,n,e):n.transitionType===f.TransitionType.LINEAR&&i.applyLinearStep(this,e),this.keyFrameTimeLeft<=r.FLOAT_PRECISION))if(t.onKeyFrame&&t.onKeyFrame(t,this.type,this.nextKeyFrame),this.overrun=-this.keyFrameTimeLeft,this.nextKeyFrame===this.keyFrames.length-1){let e=this.keyFrames[this.nextKeyFrame];e&&this.setElementFromKeyFrame(e),this.state=m.NOT_ACTIVE}else if(this.nextKeyFrame===0){let e=this.keyFrames[this.nextKeyFrame];e&&this.setElementFromKeyFrame(e),this.state=m.NOT_ACTIVE}else if(t.timelineDirReverse){this.nextKeyFrame--,n=this.keyFrames[this.nextKeyFrame+1];let e=this.keyFrames[this.nextKeyFrame];n&&e&&this.initKeyFrameStepFrom(n,e,n.timeOffset)}else{this.nextKeyFrame++,n=this.keyFrames[this.nextKeyFrame];let e=this.keyFrames[this.nextKeyFrame-1];n&&e&&this.initKeyFrameStepFrom(e,n,n.timeOffset)}}initActionKeyFrame(e,t){this.keyFrameTimeLeft=t,this.setElementFromKeyFrame(e),this.overrun>0&&(this.updateActionTrack(this.overrun),this.overrun=0)}setElementFromKeyFrame(e){if(this.type===l.ACTION){let t=e.value.actionSet;for(let e=0,n=t.length;e<n;e++){let n=t[e];n&&n.actionTarget.handleAction(n.data)}return}this.strategy?.setElementFromKeyFrame(this,e)}setKeyFrameFromElement(e){this.type!==l.ACTION&&this.strategy?.setKeyFrameFromElement(this,e)}initKeyFrameStepFrom(e,t,n){this.keyFrameTimeLeft=n,this.setKeyFrameFromElement(this.elementPrevState),this.setElementFromKeyFrame(e);let r=this.strategy;if(r){r.initKeyFrameStepFrom(this,e,t);let n=t.transitionType===f.TransitionType.EASE_IN,i=t.transitionType===f.TransitionType.EASE_OUT;r.configureEase(this,e,t,n,i)}this.overrun>0&&(this.updateNonActionTrack(this.overrun),this.overrun=0)}},g={NO_LOOP:0,REPLAY:1,PING_PONG:2},_={STOPPED:0,PLAYING:1,PAUSED:2},v=class e{static LoopType=g;static StateType=_;time;length;loopsLimit;state;loopType;tracks;onFinished;onKeyFrame;timelineDirReverse;element;resourceId;constructor(){this.time=0,this.length=0,this.loopsLimit=r.UNDEFINED,this.state=e.StateType.STOPPED,this.loopType=e.LoopType.NO_LOOP,this.tracks=[],this.onFinished=null,this.onKeyFrame=null,this.timelineDirReverse=!1,this.element=null}addKeyFrame(e){let t=this.tracks[e.trackType],n=t==null?0:t.keyFrames.length;this.setKeyFrame(e,n)}setKeyFrame(e,t){let n=this.tracks[e.trackType];n||(this.tracks[e.trackType]=n=new h(this,e.trackType)),n.setKeyFrame(e,t)}getTrack(e){return this.tracks[e]}play(){if(this.state!==e.StateType.PAUSED){this.time=0,this.timelineDirReverse=!1,this.length=0;for(let e=0,t=this.tracks.length;e<t;e++){let t=this.tracks[e];t&&(t.updateRange(),t.endTime>this.length&&(this.length=t.endTime))}this.update(0)}this.state=e.StateType.PLAYING}pause(){this.state=e.StateType.PAUSED}jumpToTrack(t,n){this.state===e.StateType.STOPPED&&(this.state=e.StateType.PAUSED);let r=this.tracks[t];if(!r)return;let i=r.getFrameTime(n)-this.time;this.update(i)}stop(){this.state=e.StateType.STOPPED,this.deactivateTracks()}deactivateTracks(){for(let e=0,t=this.tracks.length;e<t;e++){let t=this.tracks[e];t&&t.deactivate()}}update(t){if(this.state===e.StateType.PLAYING){this.timelineDirReverse?this.time-=t:this.time+=t;for(let e=0,n=this.tracks.length;e<n;e++){let n=this.tracks[e];n!=null&&(n.type===l.ACTION?n.updateActionTrack(t):n.updateNonActionTrack(t))}this.loopType===e.LoopType.PING_PONG?this.timelineDirReverse===!1&&this.time>=this.length-r.FLOAT_PRECISION?(this.time=Math.max(0,this.length-(this.time-this.length)),this.timelineDirReverse=!0):this.timelineDirReverse&&this.time<=r.FLOAT_PRECISION&&(this.loopsLimit>0&&(this.loopsLimit--,this.loopsLimit===0&&(this.stop(),this.onFinished&&this.onFinished(this))),this.time=Math.min(-this.time,this.length),this.timelineDirReverse=!1):this.loopType===e.LoopType.REPLAY?this.time>=this.length-r.FLOAT_PRECISION&&(this.loopsLimit>0&&(this.loopsLimit--,this.loopsLimit===0&&(this.stop(),this.onFinished&&this.onFinished(this))),this.time=Math.min(this.time-this.length,this.length)):this.loopType===e.LoopType.NO_LOOP&&this.time>=this.length-r.FLOAT_PRECISION&&(this.stop(),this.onFinished&&this.onFinished(this))}}},ee=Math.PI/180,te=180/Math.PI,ne={TAU:Math.PI*2,fromDegrees:e=>e*ee,toDegrees:e=>e*te},re=class{parent;visible;touchable;updateable;name;x;y;drawX;drawY;width;height;rotation;rotationCenterX;rotationCenterY;scaleX;scaleY;color;translateX;translateY;anchor;parentAnchor;passTransformationsToChilds;passColorToChilds;passTouchEventsToAllChilds;children;timelines;currentTimelineIndex;currentTimeline;previousAlpha;drawZeroDegreesLine;isDrawBB;restoreCutTransparency;resId;constructor(){this.parent=null,this.visible=!0,this.touchable=!0,this.updateable=!0,this.name=null,this.x=0,this.y=0,this.drawX=0,this.drawY=0,this.width=0,this.height=0,this.rotation=0,this.rotationCenterX=0,this.rotationCenterY=0,this.scaleX=1,this.scaleY=1,this.color=e.solidOpaque.copy(),this.translateX=0,this.translateY=0,this.anchor=n.TOP|n.LEFT,this.parentAnchor=n.UNDEFINED,this.passTransformationsToChilds=!0,this.passColorToChilds=!0,this.passTouchEventsToAllChilds=!1,this.children=[],this.timelines=[],this.currentTimelineIndex=r.UNDEFINED,this.currentTimeline=null,this.previousAlpha=1}calculateTopLeft(){let e=this.parentAnchor,t=this.parent,n=this.anchor;e!==0&&t?(e&1?this.drawX=t.drawX+this.x:e&2?this.drawX=t.drawX+this.x+t.width/2:e&4&&(this.drawX=t.drawX+this.x+t.width),e&8?this.drawY=t.drawY+this.y:e&16?this.drawY=t.drawY+this.y+t.height/2:e&32&&(this.drawY=t.drawY+this.y+t.height)):(this.drawX=this.x,this.drawY=this.y),n&8||(n&16?this.drawY-=this.height/2:n&32&&(this.drawY-=this.height)),n&1||(n&2?this.drawX-=this.width/2:n&4&&(this.drawX-=this.width))}preDraw(){this.calculateTopLeft();let e=this.scaleX!==0&&this.scaleY!==0&&(this.scaleX!==1||this.scaleY!==1),t=this.rotation!==0,n=this.translateX!==0||this.translateY!==0,r=i.context;if(r){if(r.save(),e||t){let n=Math.trunc(this.drawX+this.width/2+this.rotationCenterX),i=Math.trunc(this.drawY+this.height/2+this.rotationCenterY),a=n!==0||i!==0;a&&r.translate(n,i),t&&r.rotate(ne.fromDegrees(this.rotation)),e&&r.scale(this.scaleX,this.scaleY),a&&r.translate(-n,-i)}n&&r.translate(this.translateX,this.translateY),this.previousAlpha=r.globalAlpha,this.color.a!==1&&this.color.a!==this.previousAlpha&&(r.globalAlpha=this.color.a)}}draw(){this.preDraw(),this.postDraw()}drawBB(){let e=i.context;e&&(e.strokeStyle=`red`,e.strokeRect(this.drawX,this.drawY,this.width,this.height))}postDraw(){let e=i.context,t=this.color.a!==1&&this.color.a!==this.previousAlpha;if(this.drawZeroDegreesLine){let t=this.drawX+(this.width>>1)+this.rotationCenterX,n=this.drawY+(this.height>>1)+this.rotationCenterY;e&&(e.save(),e.lineWidth=5,e.strokeStyle=`#ff0000`,e.beginPath(),e.moveTo(t,n),e.lineTo(t,n-100),e.closePath(),e.stroke(),e.restore())}this.passTransformationsToChilds?this.passColorToChilds||t&&i.context&&(i.context.globalAlpha=this.previousAlpha):(this.isDrawBB&&this.drawBB(),e&&e.restore(),this.passColorToChilds&&t&&i.context&&(i.context.globalAlpha=this.color.a));let n=this.children,r=n.length;for(let e=0;e<r;e++){let t=n[e];t&&t.visible&&t.draw()}this.passTransformationsToChilds?(this.isDrawBB&&this.drawBB(),e&&e.restore()):this.passColorToChilds&&t&&i.context&&(i.context.globalAlpha=this.previousAlpha)}update(e){let t=this.children,n=t.length;for(let r=0;r<n;r++){let n=t[r];n&&n.updateable&&n.update(e)}this.currentTimeline&&this.currentTimeline.update(e)}getChildWithName(e){let t=this.children,n=t.length;for(let r=0;r<n;r++){let n=t[r];if(!n)continue;if(n.name===e)return n;let i=n.getChildWithName(e);if(i!==null)return i}return null}setSizeToChildsBounds(){this.calculateTopLeft();let e=this.drawX,t=this.drawY,n=this.drawX+this.width,r=this.drawY+this.height,i=this.children,a=i.length;for(let o=0;o<a;o++){let a=i[o];if(!a)continue;a.calculateTopLeft(),a.drawX<e&&(e=a.drawX),a.drawY<t&&(t=a.drawY);let s=a.drawX+a.width,c=a.drawY+a.height;s>n&&(n=s),c>r&&(r=c)}this.width=n-e,this.height=r-t}handleAction(e){switch(e.actionName){case a.SET_VISIBLE:this.visible=e.actionSubParam!==0;break;case a.SET_UPDATEABLE:this.updateable=e.actionSubParam!==0;break;case a.SET_TOUCHABLE:this.touchable=e.actionSubParam!==0;break;case a.PLAY_TIMELINE:this.playTimeline(e.actionSubParam);break;case a.PAUSE_TIMELINE:this.pauseCurrentTimeline();break;case a.STOP_TIMELINE:this.stopCurrentTimeline();break;case a.JUMP_TO_TIMELINE_FRAME:{let t=this.currentTimeline;t&&t.jumpToTrack(e.actionParam,e.actionSubParam);break}default:return!1}return!0}addChild(e){return this.children.push(e),e.parent=this,this.children.length-1}addChildWithID(e,t){this.children[t]=e,e.parent=this}removeChildWithID(e){let t=this.children.splice(e,1)[0];t&&(t.parent=null)}removeAllChildren(){this.children.length=0}removeChild(e){let t=this.children,n=t.length;for(let r=0;r<n;r++)if(e===t[r]){this.removeChildWithID(r);return}}getChild(e){return this.children[e]}childCount(){return this.children.length}getChildren(){return this.children}addTimeline(e){let t=this.timelines.length;return this.addTimelineWithID(e,t),t}addTimelineWithID(e,t){e.element=this,this.timelines[t]=e}removeTimeline(e){this.currentTimelineIndex===e&&this.stopCurrentTimeline(),e<this.timelines.length&&this.timelines.splice(e,1)}playTimeline(e){if(this.currentTimeline&&this.currentTimeline.state!==v.StateType.STOPPED&&this.currentTimeline.stop(),this.currentTimelineIndex=e,this.currentTimeline=this.timelines[e]??null,this.currentTimeline){let e=this.currentTimeline.resourceId;if(e!==void 0&&e!==this.resId){let t=this.restoreCutTransparency;this.initTextureWithId?.(e),t&&this.doRestoreCutTransparency?.()}this.currentTimeline.play()}}pauseCurrentTimeline(){this.currentTimeline&&this.currentTimeline.pause()}stopCurrentTimeline(){this.currentTimeline&&=(this.currentTimeline.stop(),null),this.currentTimelineIndex=r.UNDEFINED}getTimeline(e){return this.timelines[e]}onTouchDown(e,t){let n=!1,r=this.children.length;for(let i=r-1;i>=0;i--){let r=this.children[i];if(r&&r.touchable&&r.onTouchDown(e,t)&&n===!1&&(n=!0,!this.passTouchEventsToAllChilds))return n}return n}onTouchUp(e,t){let n=!1,r=this.children.length;for(let i=r-1;i>=0;i--){let r=this.children[i];if(r&&r.touchable&&r.onTouchUp(e,t)&&n===!1&&(n=!0,!this.passTouchEventsToAllChilds))return n}return n}onTouchMove(e,t){let n=!1,r=this.children.length;for(let i=r-1;i>=0;i--){let r=this.children[i];if(r&&r.touchable&&r.onTouchMove(e,t)&&n===!1&&(n=!0,!this.passTouchEventsToAllChilds))return n}return n}onDoubleClick(e,t){let n=!1,r=this.children.length;for(let i=r-1;i>=0;i--){let r=this.children[i];if(r&&r.touchable&&r.onDoubleClick(e,t)&&n===!1&&(n=!0,!this.passTouchEventsToAllChilds))return n}return n}setEnabled(e){this.visible=e,this.touchable=e,this.updateable=e}isEnabled(){return this.visible&&this.touchable&&this.updateable}show(){let e=this.children,t=e.length;for(let n=0;n<t;n++){let t=e[n];t&&t.visible&&t.show()}}hide(){let e=this.children,t=e.length;for(let n=0;n<t;n++){let t=e[n];t&&t.visible&&t.hide()}}},ie=class e{constructor(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}static copy(t){return new e(t.x,t.y,t.w,t.h)}static scaleCopy(t,n){return new e(t.x*n,t.y*n,t.w*n,t.h*n)}static rectInRect(e,t,n,r,i,a,o,s){return!(e>o||n<i||t>s||r<a)}static rectInRectIntersection(t,n,r,i,a,o,s,c){let l=new e(a-t,o-n,s,c);return l.x<0&&(l.w+=l.x,l.x=0),l.x+l.w>r&&(l.w=r-l.x),l.y<0&&(l.h+=l.y,l.y=0),l.y+l.h>i&&(l.h=i-l.y),l}static pointInRect(e,t,n,r,i,a){return e>=n&&e<n+i&&t>=r&&t<r+a}static lineInRect(e,t,n,r,i,a,s,c){let l=new o(e,t),u=new o(n,r),d=i,f=a,p=i+s,m=a+c,h=le(d,f,p,m,l),g=le(d,f,p,m,u);for(;h!==0||g!==0;){if((h&g)!==0)return!1;let i,a;h===0?(i=g,a=u):(i=h,a=l),i&ae?(a.y+=(t-r)*(d-a.x)/(e-n),a.x=d):i&oe&&(a.y+=(t-r)*(p-a.x)/(e-n),a.x=p),i&se?(a.x+=(e-n)*(f-a.y)/(t-r),a.y=f):i&ce&&(a.x+=(e-n)*(m-a.y)/(t-r),a.y=m),i===h?h=le(d,f,p,m,l):g=le(d,f,p,m,u)}return!0}},ae=1,oe=2,se=4,ce=8,le=(e,t,n,r,i)=>(i.x<e?ae:0)+(i.x>n?oe:0)+(i.y<t?se:0)+(i.y>r?ce:0),y=ie,ue=class extends re{texture;numberOfQuadsToDraw;texCoordinates;vertices;alphas;rotationAngles;rotationPositions;constructor(e){super(),this.texture=e,this.numberOfQuadsToDraw=r.UNDEFINED,this.texCoordinates=[],this.vertices=[],this.alphas=[],this.rotationAngles=[],this.rotationPositions=[]}setTextureQuad(e,t,n,r){this.texCoordinates[e]=t,this.vertices[e]=n,this.alphas[e]=r??1}removeQuads(e){this.texCoordinates.splice(e,1),this.vertices.splice(e,1),this.alphas.splice(e,1)}mapTextureQuad(e,t,n,r){let i=this.texture.rects[e];if(!i)return;this.texCoordinates[r]=y.copy(i);let a=this.texture.offsets[e],o=this.texture.rects[e];!a||!o||(this.vertices[r]=new y(t+a.x,n+a.y,o.w,o.h),this.alphas[r]=1)}drawNumberOfQuads(e){e>this.texCoordinates.length&&(e=this.texCoordinates.length);let t=i.context;if(t)for(let n=0;n<e;n++){let e=this.texCoordinates[n],r=this.vertices[n];if(!e||!r)continue;let i=Math.ceil(e.w),a=Math.ceil(e.h),o=this.alphas[n];if(i===0||a===0)continue;let s=this.rotationAngles[n],c=this.rotationPositions[n],l=!!(c&&s!=null&&s!==0),u=!1;l&&(t.save(),u=!0);let d=t.globalAlpha;if(o==null)o=1;else if(o<=0){u&&t.restore();continue}else o<1&&(t.globalAlpha=o);let f=Math.trunc(r.x),p=Math.trunc(r.y),m=1+Math.trunc(r.w),h=1+Math.trunc(r.h),g=this.texture.image;if(!g){u?t.restore():o!==1&&(t.globalAlpha=d);continue}u&&c&&s!=null&&(t.translate(c.x,c.y),t.rotate(s),t.translate(-c.x,-c.y)),t.drawImage(g,e.x,e.y,i,a,f,p,m,h),u?t.restore():o!==1&&(t.globalAlpha=d)}}draw(){if(this.preDraw(),this.color.a!==0){let e=i.context,t=this.drawX!==0||this.drawY!==0;if(!e)return;t&&e.translate(this.drawX,this.drawY);let n=this.numberOfQuadsToDraw===r.UNDEFINED?this.texCoordinates.length:this.numberOfQuadsToDraw;this.drawNumberOfQuads(n),t&&e.translate(-this.drawX,-this.drawY)}this.postDraw()}};const de=2,fe={FADE_IN:0,FADE_OUT:1},pe={TO_CANDY_PART:0,TO_CANDY:1},me={SEPARATE:0,DISTANCE:1,NONE:2},he=.1,ge=30,_e=3,ve=1,ye=.05,be=.9,xe=25,Se=.1,Ce={INITIAL:0,STAR:1},we={IDLE:0,IDLE2:1,IDLE3:2,EXCITED:3,PUZZLED:4,FAIL:5,WIN:6,MOUTH_OPEN:7,MOUTH_CLOSE:8,CHEW:9,GREETING:10,GREETINGXMAS:11,IDLEXMAS:12,IDLE2XMAS:13,IDLEPADDINGTON:14,SLEEPING:15},Te=3,Ee=0,De=0,Oe=0,ke=1,Ae=2,je=8,Me=9,Ne=0,Pe=9,Fe=10,Ie=11,Le=15,Re=0,ze=1,Be=2,Ve=11,He=12,Ue=8,We=17,Ge=18,Ke=19,qe=20,Je=0,Ye=12,Xe=0,Ze=12,Qe=0,$e=11,et=0,tt=1,nt=3,rt=0,it=1,at=2,ot=3,st=10,ct=0,lt=1,ut=0,dt=1,ft=2,pt=12,mt=13,ht=23,gt=24,_t=34,vt=0,yt=1,bt=9,xt=10,St=11,Ct=19,wt=22,Tt=0,Et=9,Dt=0,Ot=18,kt=19,At=27,jt=28,Mt=31,Nt=32,Pt=40,Ft=41,It=42,Lt=43,Rt=67,zt=68,Bt=83,Vt=0,Ht=19,Ut=20,Wt=46,Gt=47,Kt=76,qt=0,Jt=12,Yt=0,Xt=33,Zt=0,Qt=30,$t=31,en=61,tn=0,nn=38,rn=39,an=0,on=6,sn=7,cn=43,ln=0,un=1,dn=2,fn=3,pn=4,mn=5,hn=6,gn=7;var b={IMG_DEFAULT:0,IMG_LOADERBAR_FULL:1,IMG_CHILLINGO:2,IMG_MENU_BUTTON_DEFAULT:3,FNT_BIG_FONT:4,FNT_SMALL_FONT:5,IMG_MENU_LOADING:6,SND_TAP:7,STR_MENU:8,SND_BUTTON:9,SND_BUBBLE_BREAK:10,SND_BUBBLE:11,SND_CANDY_BREAK:12,SND_MONSTER_CHEWING:13,SND_MONSTER_CLOSE:14,SND_MONSTER_OPEN:15,SND_MONSTER_SAD:16,SND_RING:17,SND_ROPE_BLEAK_1:18,SND_ROPE_BLEAK_2:19,SND_ROPE_BLEAK_3:20,SND_ROPE_BLEAK_4:21,SND_ROPE_GET:22,SND_STAR_1:23,SND_STAR_2:24,SND_STAR_3:25,SND_ELECTRIC:26,SND_PUMP_1:27,SND_PUMP_2:28,SND_PUMP_3:29,SND_PUMP_4:30,SND_SPIDER_ACTIVATE:31,SND_SPIDER_FALL:32,SND_SPIDER_WIN:33,SND_WHEEL:34,SND_WIN:35,SND_GRAVITY_OFF:36,SND_GRAVITY_ON:37,SND_CANDY_LINK:38,SND_BOUNCER:39,IMG_MENU_BGR:40,IMG_MENU_BUTTON_CRYSTAL:41,IMG_MENU_POPUP:42,IMG_MENU_BUTTON_CRYSTAL_ICON:43,IMG_MENU_LOGO:44,IMG_MENU_LEVEL_SELECTION:45,IMG_MENU_PACK_SELECTION:46,IMG_MENU_EXTRA_BUTTONS:47,IMG_MENU_EXTRA_BUTTONS_EN:48,IMG_MENU_BUTTON_SHORT:49,IMG_HUD_BUTTONS:50,IMG_OBJ_CANDY_01:51,IMG_OBJ_SPIDER:52,IMG_CONFETTI_PARTICLES:53,IMG_MENU_PAUSE:54,IMG_MENU_RESULT:55,FNT_FONT_NUMBERS_BIG:56,IMG_HUD_BUTTONS_EN:57,IMG_MENU_RESULT_EN:58,IMG_OBJ_STAR_DISAPPEAR:59,IMG_OBJ_BUBBLE_FLIGHT:60,IMG_OBJ_BUBBLE_POP:61,IMG_OBJ_HOOK_AUTO:62,IMG_OBJ_SPIKES_04:63,IMG_OBJ_BUBBLE_ATTACHED:64,IMG_OBJ_HOOK_01:65,IMG_OBJ_HOOK_02:66,IMG_OBJ_STAR_IDLE:67,IMG_HUD_STAR:68,IMG_OBJ_SPIKES_03:69,IMG_OBJ_SPIKES_02:70,IMG_OBJ_SPIKES_01:71,IMG_CHAR_ANIMATIONS:72,IMG_OBJ_HOOK_REGULATED:73,IMG_OBJ_ELECTRODES:74,IMG_OBJ_HOOK_MOVABLE:75,IMG_OBJ_PUMP:76,IMG_TUTORIAL_SIGNS:77,IMG_OBJ_SOCKS:78,IMG_OBJ_BOUNCER_01:79,IMG_OBJ_BOUNCER_02:80,IMG_OBJ_VINIL:81,SND_SCRATCH_IN:82,SND_SCRATCH_OUT:83,SND_BUZZ:84,SND_TELEPORT:85,SND_MENU_MUSIC:105,SND_GAME_MUSIC:106,SND_GAME_MUSIC2:107,IMG_DRAWING_HIDDEN:108,IMG_OBJ_ROTATABLE_SPIKES_01:111,IMG_OBJ_ROTATABLE_SPIKES_02:112,IMG_OBJ_ROTATABLE_SPIKES_03:113,IMG_OBJ_ROTATABLE_SPIKES_04:114,IMG_OBJ_ROTATABLE_SPIKES_BUTTON:115,IMG_OBJ_BEE_HD:116,IMG_OBJ_POLLEN_HD:117,SND_SPIKE_ROTATE_IN:118,SND_SPIKE_ROTATE_OUT:119,IMG_CHAR_SUPPORTS:120,IMG_BGR_01_P1:121,IMG_BGR_01_P2:122,IMG_BGR_02_P1:123,IMG_BGR_02_P2:124,IMG_BGR_03_P1:125,IMG_BGR_03_P2:126,IMG_BGR_04_P1:127,IMG_BGR_04_P2:128,IMG_BGR_05_P1:129,IMG_BGR_05_P2:130,IMG_BGR_06_P1:131,IMG_BGR_06_P2:132,IMG_BGR_07_P1:133,IMG_BGR_07_P2:134,IMG_BGR_08_P1:135,IMG_BGR_08_P2:136,IMG_BGR_09_P1:137,IMG_BGR_09_P2:138,IMG_BGR_10_P1:139,IMG_BGR_10_P2:140,IMG_BGR_11_P1:141,IMG_BGR_11_P2:142,IMG_BGR_IE:143,IMG_TIME_BGR_1:144,IMG_TIME_BGR_2:145,IMG_TIME_BGR_3:146,IMG_TIME_BGR_4:147,IMG_TIME_BGR_5:148,IMG_TIME_BGR_6:149,IMG_CAESAR_ANIMATIONS_1:150,IMG_CAESAR_ANIMATIONS_2:151,IMG_CAESAR_ANIMATIONS_3:152,IMG_CAESAR_ANIMATIONS_4:153,IMG_PAINTER_ANIMATIONS_1:154,IMG_PAINTER_ANIMATIONS_2:155,IMG_PAINTER_ANIMATIONS_3:156,IMG_PAINTER_ANIMATIONS_4:157,IMG_PHARAOH_ANIMATIONS_1:158,IMG_PHARAOH_ANIMATIONS_2:159,IMG_PHARAOH_ANIMATIONS_3:160,IMG_PHARAOH_ANIMATIONS_4:161,IMG_PIRATE_ANIMATIONS_1:162,IMG_PIRATE_ANIMATIONS_2:163,IMG_PIRATE_ANIMATIONS_3:164,IMG_PIRATE_ANIMATIONS_4:165,IMG_PREHISTORIC_ANIMATIONS_1:166,IMG_PREHISTORIC_ANIMATIONS_2:167,IMG_PREHISTORIC_ANIMATIONS_3:168,IMG_PREHISTORIC_ANIMATIONS_4:169,IMG_VIKING_ANIMATIONS_1:170,IMG_VIKING_ANIMATIONS_2:171,IMG_VIKING_ANIMATIONS_3:172,IMG_VIKING_ANIMATIONS_4:173,SND_CANDY_HIT:174,SND_PREHISTORIC_MONSTER_CHEWING:175,SND_PREHISTORIC_MONSTER_OPEN:176,SND_PREHISTORIC_MONSTER_CLOSE:177,SND_PREHISTORIC_MONSTER_SAD:178,SND_TIME_MENU_MUSIC:179,IMG_TIME_STANDS:180,IMG_CHAR_ANIMATIONS2:181,IMG_CHAR_ANIMATIONS3:182,SND_GAME_MUSIC3:183,SND_GAME_MUSIC4:184,IMG_CHAR_GREETINGS_XMAS:185,IMG_CHAR_IDLE_XMAS:186,IMG_XMAS_LIGHTS:187,IMG_CHAR_SUPPORTS_XMAS:188,IMG_OBJ_CANDY_PADDINGTON:189,IMG_SNOWFLAKES:190,IMG_OBJ_SOCKS_XMAS:191,IMG_CHAR_ANIMATION_PADDINGTON:192,IMG_BGR_XMAS:193,IMG_BGR_PADDINGTON:194,SND_XMAS_BELL:195,SND_MENU_MUSIC_XMAS:196,SND_GAME_MUSIC_XMAS:197,SND_TELEPORT_XMAS:198,IMG_OBJ_GHOST:199,SND_GHOST_PUFF:200,IMG_BGR_12_P1:201,IMG_OBJ_PIPE:202,SND_STEAM_START:203,SND_STEAM_START2:204,SND_STEAM_END:205,IMG_BGR_13_P1:206,IMG_OBJ_CANDY_01_NEW:207,IMG_OBJ_CANDY_FX:208,IMG_OBJ_CANDY_02:209,IMG_OBJ_CANDY_03:210,IMG_OBJ_CANDY_04:211,IMG_OBJ_CANDY_05:212,IMG_OBJ_CANDY_06:213,IMG_OBJ_CANDY_07:214,IMG_OBJ_CANDY_08:215,IMG_OBJ_CANDY_09:216,IMG_OBJ_CANDY_10:217,IMG_OBJ_CANDY_11:218,IMG_OBJ_CANDY_12:219,IMG_OBJ_CANDY_13:220,IMG_OBJ_CANDY_14:221,IMG_OBJ_CANDY_15:222,IMG_OBJ_CANDY_16:223,IMG_OBJ_CANDY_17:224,IMG_OBJ_CANDY_18:225,IMG_OBJ_CANDY_19:226,IMG_OBJ_CANDY_20:227,IMG_OBJ_CANDY_21:228,IMG_OBJ_CANDY_22:229,IMG_OBJ_CANDY_23:230,IMG_OBJ_CANDY_24:231,IMG_OBJ_CANDY_25:232,IMG_OBJ_CANDY_26:233,IMG_OBJ_CANDY_27:234,IMG_OBJ_CANDY_28:235,IMG_OBJ_CANDY_29:236,IMG_OBJ_CANDY_30:237,IMG_OBJ_CANDY_31:238,IMG_OBJ_CANDY_32:239,IMG_OBJ_CANDY_33:240,IMG_OBJ_CANDY_34:241,IMG_OBJ_CANDY_35:242,IMG_OBJ_CANDY_36:243,IMG_OBJ_CANDY_37:244,IMG_OBJ_CANDY_38:245,IMG_OBJ_CANDY_39:246,IMG_OBJ_CANDY_40:247,IMG_OBJ_CANDY_41:248,IMG_OBJ_CANDY_42:249,IMG_OBJ_CANDY_43:250,IMG_OBJ_CANDY_44:251,IMG_OBJ_CANDY_45:252,IMG_OBJ_CANDY_46:253,IMG_OBJ_CANDY_47:254,IMG_OBJ_CANDY_48:255,IMG_OBJ_CANDY_49:256,IMG_OBJ_CANDY_50:257,IMG_OBJ_CANDY_51:258,IMG_OBJ_LANTERN:259,SND_LANTERN_TELEPORT_IN:260,SND_LANTERN_TELEPORT_OUT:261,IMG_BGR_14_P1:262,IMG_OBJ_GAP:263,SND_MOUSE_RUSTLE:264,SND_MOUSE_TAP:265,SND_MOUSE_IDLE:266,IMG_BGR_15_P1:267,IMG_OBJ_LIGHTER:268,IMG_OBJ_STAR_NIGHT:269,IMG_CHAR_ANIMATIONS_SLEEPING:270,IMG_BGR_16_P1:271,SND_MONSTER_SLEEP_1:272,SND_MONSTER_SLEEP_2:273,SND_MONSTER_SLEEP_3:274,SND_STAR_LIGHT_1:275,SND_STAR_LIGHT_2:276,IMG_BGR_17_P1:277,IMG_OBJ_TRANSPORTER:278,SND_TRANSPORTER_MOVE:279,SND_TRANSPORTER_DROP:280,SND_CONV01:281,SND_CONV02:282,SND_CONV03:283,SND_CONV04:284,IMG_OBJ_GUN:285,IMG_OBJ_STICKER:286,SND_EXP_GUN:287,SND_EXP_SUCKER_DROP:288,SND_EXP_SUCKER_LAND:289,RESOURCES_COUNT:290},_n=[{id:0},{id:1},{id:2},{id:4,charOffset:-1,lineOffset:-42,spaceWidth:20,chars:`!"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~©ÀàÂâÆæÇçÈèÉéÊêËëÎîÏïÔôŒœÙùÛûÜü«»€ÄäÉéÖöÜüß„“”°АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя`,kerning:{},rects:[4,4,33,156,41,4,38,156,83,4,61,156,148,4,41,156,193,4,73,156,270,4,38,156,312,4,19,156,335,4,44,156,383,4,41,156,428,4,54,156,486,4,43,156,533,4,22,156,559,4,46,156,609,4,23,156,636,4,51,156,691,4,54,156,749,4,23,156,776,4,53,156,833,4,44,156,881,4,48,156,933,4,51,156,4,164,49,156,57,164,52,156,113,164,55,156,172,164,41,156,217,164,24,156,245,164,24,156,273,164,59,156,336,164,36,156,376,164,51,156,431,164,44,156,479,164,62,156,545,164,51,156,600,164,51,156,655,164,58,156,717,164,48,156,769,164,46,156,819,164,45,156,868,164,50,156,922,164,49,156,975,164,24,156,4,324,45,156,53,324,45,156,102,324,54,156,160,324,73,156,237,324,43,156,284,324,63,156,351,324,59,156,414,324,54,156,472,324,51,156,527,324,57,156,588,324,56,156,648,324,59,156,711,324,52,156,767,324,74,156,845,324,63,156,912,324,47,156,4,484,67,156,75,484,65,156,144,484,54,156,202,484,56,156,262,484,40,156,306,484,74,156,384,484,24,156,412,484,45,156,461,484,51,156,516,484,49,156,569,484,48,156,621,484,43,156,668,484,47,156,719,484,42,156,765,484,43,156,812,484,25,156,841,484,39,156,884,484,50,156,938,484,22,156,4,644,69,156,77,644,40,156,121,644,37,156,162,644,45,156,211,644,63,156,278,644,43,156,325,644,44,156,373,644,52,156,429,644,46,156,479,644,54,156,537,644,73,156,614,644,59,156,677,644,54,156,735,644,58,156,797,644,57,156,858,644,25,156,887,644,42,156,933,644,49,156,4,804,75,156,83,804,51,156,138,804,44,156,186,804,51,156,241,804,47,156,292,804,83,156,379,804,62,156,445,804,54,156,503,804,43,156,550,804,45,156,599,804,45,156,648,804,45,156,697,804,45,156,746,804,45,156,795,804,45,156,844,804,45,156,893,804,45,156,942,804,41,156,4,964,41,156,49,964,33,156,86,964,34,156,124,964,63,156,191,964,48,156,243,964,82,156,329,964,61,156,394,964,53,156,451,964,44,156,499,964,53,156,556,964,43,156,603,964,53,156,660,964,43,156,707,964,53,156,764,964,59,156,827,964,65,156,896,964,51,156,951,964,44,156,4,1124,45,156,53,1124,45,156,102,1124,63,156,169,1124,48,156,221,1124,53,156,278,1124,43,156,325,1124,53,156,382,1124,43,156,429,1124,43,156,476,1124,43,156,523,1124,40,156,567,1124,65,156,636,1124,47,156,687,1124,50,156,741,1124,49,156,794,1124,64,156,862,1124,46,156,912,1124,46,156,4,1284,73,156,81,1284,46,156,131,1284,54,156,189,1284,54,156,247,1284,62,156,313,1284,62,156,379,1284,64,156,447,1284,52,156,503,1284,59,156,566,1284,53,156,623,1284,48,156,675,1284,49,156,728,1284,59,156,791,1284,55,156,850,1284,59,156,913,1284,55,156,4,1444,58,156,66,1444,49,156,119,1444,72,156,195,1444,83,156,282,1444,62,156,348,1444,58,156,410,1444,50,156,464,1444,48,156,516,1444,67,156,587,1444,51,156,642,1444,44,156,690,1444,41,156,735,1444,39,156,778,1444,37,156,819,1444,41,156,864,1444,40,156,908,1444,40,156,952,1444,61,156,4,1604,38,156,46,1604,43,156,93,1604,43,156,140,1604,44,156,188,1604,45,156,237,1604,62,156,303,1604,42,156,349,1604,40,156,393,1604,49,156,446,1604,46,156,496,1604,38,156,538,1604,69,156,611,1604,42,156,657,1604,61,156,722,1604,43,156,769,1604,45,156,818,1604,40,156,862,1604,63,156,929,1604,65,156,4,1764,51,156,59,1764,51,156,114,1764,40,156,158,1764,39,156,201,1764,60,156,265,1764,40,156,309,1764,112,156]},{id:5,charOffset:2,lineOffset:-90,spaceWidth:15,chars:`!"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~©ÀàÂâÆæÇçÈèÉéÊêËëÎîÏïÔôŒœÙùÛûÜü«»€ÄäÉéÖöÜüß„“”°АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя`,kerning:{},rects:[4,4,16,156,24,4,19,156,47,4,35,156,86,4,21,156,111,4,43,156,158,4,19,156,181,4,7,156,192,4,24,156,220,4,23,156,247,4,30,156,281,4,24,156,309,4,9,156,322,4,25,156,351,4,10,156,365,4,28,156,397,4,31,156,432,4,10,156,446,4,29,156,479,4,24,156,507,4,26,156,537,4,29,156,570,4,28,156,602,4,29,156,635,4,31,156,670,4,21,156,695,4,10,156,709,4,10,156,723,4,33,156,760,4,19,156,783,4,28,156,815,4,24,156,843,4,36,156,883,4,28,156,915,4,28,156,947,4,32,156,983,4,27,156,4,164,25,156,33,164,24,156,61,164,28,156,93,164,28,156,125,164,10,156,139,164,25,156,168,164,24,156,196,164,31,156,231,164,43,156,278,164,24,156,306,164,37,156,347,164,34,156,385,164,30,156,419,164,29,156,452,164,32,156,488,164,31,156,523,164,34,156,561,164,29,156,594,164,43,156,641,164,36,156,681,164,26,156,711,164,39,156,754,164,38,156,796,164,30,156,830,164,32,156,866,164,22,156,892,164,44,156,940,164,11,156,955,164,25,156,984,164,29,156,4,324,27,156,35,324,26,156,65,324,24,156,93,324,26,156,123,324,23,156,150,324,24,156,178,324,11,156,193,324,20,156,217,324,28,156,249,324,9,156,262,324,41,156,307,324,21,156,332,324,20,156,356,324,25,156,385,324,36,156,425,324,22,156,451,324,24,156,479,324,29,156,512,324,26,156,542,324,31,156,577,324,43,156,624,324,34,156,662,324,30,156,696,324,33,156,733,324,32,156,769,324,12,156,785,324,22,156,811,324,27,156,842,324,45,156,891,324,29,156,924,324,24,156,952,324,29,156,985,324,26,156,4,484,49,156,57,484,36,156,97,484,30,156,131,484,23,156,158,484,24,156,186,484,24,156,214,484,24,156,242,484,24,156,270,484,24,156,298,484,24,156,326,484,24,156,354,484,24,156,382,484,22,156,408,484,22,156,434,484,17,156,455,484,17,156,476,484,36,156,516,484,27,156,547,484,50,156,601,484,35,156,640,484,29,156,673,484,24,156,701,484,29,156,734,484,23,156,761,484,29,156,794,484,23,156,821,484,30,156,855,484,34,156,893,484,37,156,934,484,29,156,967,484,24,156,995,484,24,156,4,644,24,156,32,644,36,156,72,644,27,156,103,644,29,156,136,644,23,156,163,644,30,156,197,644,23,156,224,644,23,156,251,644,23,156,278,644,22,156,304,644,38,156,346,644,26,156,376,644,28,156,408,644,28,156,440,644,38,156,482,644,25,156,511,644,25,156,540,644,44,156,588,644,26,156,618,644,30,156,652,644,30,156,686,644,37,156,727,644,36,156,767,644,37,156,808,644,29,156,841,644,34,156,879,644,30,156,913,644,28,156,945,644,27,156,976,644,34,156,4,804,31,156,39,804,34,156,77,804,31,156,112,804,33,156,149,804,28,156,181,804,43,156,228,804,51,156,283,804,36,156,323,804,33,156,360,804,28,156,392,804,27,156,423,804,40,156,467,804,29,156,500,804,24,156,528,804,22,156,554,804,20,156,578,804,19,156,601,804,22,156,627,804,21,156,652,804,21,156,677,804,36,156,717,804,20,156,741,804,24,156,769,804,24,156,797,804,24,156,825,804,25,156,854,804,35,156,893,804,24,156,921,804,22,156,947,804,28,156,979,804,26,156,4,964,20,156,28,964,41,156,73,964,23,156,100,964,36,156,140,964,24,156,168,964,25,156,197,964,22,156,223,964,37,156,264,964,38,156,306,964,30,156,340,964,29,156,373,964,22,156,399,964,21,156,424,964,35,156,463,964,22,156,489,964,112,156]},{id:51,preCutWidth:393,preCutHeight:418,rects:[2,2,218,226,224,2,151,151,2,232,157,158,224,157,98,62,326,157,48,45,379,2,49,59,432,2,55,57,379,65,53,63,163,232,146,147,2,394,153,163,2,561,153,166,2,731,156,169,2,904,163,175,169,904,159,175,159,394,159,159,313,232,150,150,322,394,144,150,159,561,138,146,2,1083,302,303,301,561,107,158,412,561,96,157,2,1390,252,268,2,1662,278,305,2,1971,371,397,2,2372,385,396,2,2772,377,386],offsets:[103,130,122,133,119,131,145,176,168,182,171,177,168,182,160,176,119,128,115,115,115,112,115,112,115,112,119,115,122,134,131,143,137,143,140,147,47,56,143,133,155,133,69,83,50,37,6,-2,0,-5,8,2]},{id:52,preCutWidth:552,preCutHeight:552,rects:[0,0,88,85,0,85,46,152,46,85,106,149,0,237,78,162,78,237,93,155,0,399,88,158,152,85,46,152,88,399,144,145,0,557,138,141,0,698,145,145,0,843,146,141,0,984,161,140,0,1124,130,155],offsets:[235,190,256,121,226,124,240,111,233,118,235,115,256,121,213,220,219,232,212,220,211,232,203,178,211,273]},{id:56,charOffset:2,lineOffset:2,spaceWidth:10,chars:`0123456789`,kerning:{},rects:[5,5,49,156,59,5,16,156,80,5,48,156,133,5,38,156,176,5,41,156,222,5,45,156,272,5,43,156,320,5,47,156,372,5,49,156,426,5,35,156]},{id:57,preCutWidth:2560,preCutHeight:122,rects:[0,0,203,99,0,99,203,99],offsets:[2347,9,2347,9]},{id:59,preCutWidth:552,preCutHeight:552,rects:[0,0,246,268,0,268,334,370,246,0,205,231,0,638,308,353,0,991,387,461,0,1452,324,399,0,1851,335,328,0,2179,296,266,0,2445,240,230,296,2179,207,217,308,638,204,205,240,2445,200,194,308,843,195,133],offsets:[145,116,76,38,166,132,113,56,75,-2,113,34,87,82,102,114,128,124,148,130,149,134,151,138,153,141]},{id:60,preCutWidth:250,preCutHeight:250,rects:[0,0,139,170,139,0,142,169,281,0,148,163,429,0,155,155,584,0,163,148,747,0,169,142,584,148,171,139,584,287,169,141,755,148,165,145,755,293,159,151,429,155,153,159,281,163,147,164,139,169,141,169,0,170,139,170],offsets:[55,40,54,41,51,44,47,48,43,51,40,54,39,56,40,55,42,53,46,50,48,46,51,44,54,41,55,40]},{id:61,preCutWidth:449,preCutHeight:446,rects:[0,0,308,285,0,285,302,282,0,567,297,281,0,848,296,277,0,1125,293,274,0,1399,293,273,0,1672,295,271,0,1943,297,269,0,2212,239,226,239,2212,241,223,0,2438,244,221,244,2438,249,219],offsets:[83,82,87,84,90,86,91,90,93,94,92,99,90,104,88,111,101,119,97,128,92,138,86,148]},{id:62,preCutWidth:275,preCutHeight:275,rects:[0,0,140,144,0,144,42,37],offsets:[69,62,117,119]},{id:63,preCutWidth:833,preCutHeight:250,rects:[0,0,566,93],offsets:[133,76]},{id:64,preCutWidth:250,preCutHeight:250,rects:[0,0,155,154,0,154,181,210,0,364,185,180,0,544,183,178],offsets:[47,50,32,36,35,40,35,40]},{id:65,preCutWidth:275,preCutHeight:275,rects:[0,0,125,126,0,126,37,35],offsets:[78,76,122,121]},{id:66,preCutWidth:275,preCutHeight:275,rects:[0,0,125,126,0,126,37,35],offsets:[75,76,119,121]},{id:67,preCutWidth:552,preCutHeight:552,rects:[2,2,234,221,240,2,77,76,240,82,70,76,321,2,64,76,321,82,58,76,389,2,51,76,389,82,46,76,444,2,40,77,444,83,34,77,488,2,28,78,488,84,28,78,520,2,35,77,559,2,42,77,605,2,48,77,657,2,56,77,717,2,63,77,784,2,69,77,857,2,76,77,857,83,83,78,2,227,175,175,181,227,175,175,360,227,175,175,539,227,175,175,718,227,175,175,2,406,175,175,181,406,175,175,360,406,175,175,539,406,175,175,718,406,175,175,2,585,175,175,181,585,175,175,360,585,175,175,539,585,175,175,718,585,175,175,2,764,175,175,181,764,175,175,360,764,175,175,539,764,175,175,718,764,175,175,2,943,175,175,181,943,175,175,360,943,175,175,539,943,175,175,718,943,175,175,2,1122,175,175,2,1301,175,175,2,1480,175,175,2,1659,175,175,2,1838,175,175,181,1122,175,175,360,1122,175,175,539,1122,175,175,718,1122,175,175,181,1301,175,175,181,1480,175,175,181,1659,175,175,360,1301,229,231,593,1301,229,231,360,1536,490,492],offsets:[156,156,233,231,236,231,239,231,242,231,246,231,248,231,251,231,254,231,257,231,257,231,253,231,250,231,247,231,243,231,240,231,237,231,234,231,230,230,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,184,155,159,155,159,27,21]},{id:b.IMG_HUD_STAR,preCutWidth:100,preCutHeight:100,rects:[0,0,84,85,84,0,58,85,142,0,32,85,174,0,12,85,186,0,28,85,214,0,44,85,258,0,60,85,318,0,70,85,388,0,78,85,466,0,84,85,550,0,84,85],offsets:[6,5,19,5,32,5,42,5,34,5,26,5,18,5,13,5,9,5,6,5,6,5]},{id:69,preCutWidth:833,preCutHeight:250,rects:[0,0,453,93],offsets:[191,76]},{id:70,preCutWidth:833,preCutHeight:250,rects:[0,0,333,93],offsets:[251,79]},{id:71,preCutWidth:833,preCutHeight:250,rects:[0,0,212,93],offsets:[310,79]},{id:72,preCutWidth:640,preCutHeight:640,rects:[1,1,201,207,1,210,201,205,1,417,201,206,1,625,201,207,1,834,201,207,1,1043,201,211,1,1256,201,214,1,1472,201,218,1,1692,201,220,204,1,201,222,204,225,201,224,204,451,201,224,204,677,201,225,204,904,201,226,204,1132,201,226,407,1,201,221,610,1,201,217,813,1,201,213,1016,1,201,210,407,225,204,225,1219,1,203,213,1424,1,201,210,1627,1,201,207,1830,1,201,203,204,1360,201,200,204,1562,201,200,204,1764,201,200,613,225,201,200,816,225,201,208,1019,225,201,216,1222,225,204,193,1428,225,221,171,1651,225,249,196,407,452,225,197,407,651,205,204,407,857,201,216,407,1075,202,222,407,1299,202,225,407,1526,205,224,407,1752,223,213,634,452,242,203,1,1914,153,86,1902,225,140,89,878,452,218,201,634,657,211,205,634,864,205,210,634,1076,211,214,847,657,214,217,847,876,220,223,1063,657,224,216,1289,657,219,212,634,1292,195,206,634,1500,195,207,634,1709,195,211,1510,657,217,214,1729,657,225,215,847,1101,219,215,847,1318,195,215,847,1535,195,215,847,1752,195,215,1069,876,217,215,1288,876,225,215,1069,1093,224,219,1069,1314,219,222,1069,1538,215,225,1069,1765,215,217,1515,876,210,205,1098,452,218,201,1318,452,206,193,1526,452,201,195,1727,876,201,206,1295,1093,204,212,1295,1307,206,214,1503,1307,208,215,1503,1524,208,216,1501,1093,206,205,1729,452,206,191,1709,1093,204,194,1295,1523,202,206,1295,1731,202,214,1503,1742,203,217,1713,1524,204,216,1713,1307,204,212,1713,1742,204,204],offsets:[220,227,220,228,220,228,220,227,220,227,220,223,220,220,220,216,220,214,220,212,220,210,220,210,220,209,220,208,220,208,220,213,220,217,220,221,220,224,217,209,218,221,219,224,219,227,219,231,219,234,219,234,219,234,219,234,219,226,219,218,218,241,210,263,191,238,203,237,216,230,220,218,219,212,219,209,216,210,204,221,195,231,240,264,249,265,210,232,216,228,218,223,211,220,208,216,204,211,201,218,207,222,231,228,231,227,231,223,209,220,201,219,207,219,231,219,231,219,231,219,209,219,201,219,201,215,204,212,207,209,208,217,216,228,210,232,215,240,220,238,220,227,217,221,215,219,213,218,213,217,215,228,215,242,217,239,219,226,220,218,220,215,220,216,219,220,218,229]},{id:181,preCutWidth:640,preCutHeight:640,rects:[1,1,213,196,1,199,207,209,1,410,197,232,1,644,186,246,1,892,181,246,1,1140,186,244,1,1386,195,232,1,1620,200,229,210,199,200,219,210,420,200,221,210,643,200,224,210,869,200,227,210,1098,200,229,210,1329,200,229,210,1560,200,229,210,1791,195,234,412,199,190,238,604,199,194,230,800,199,202,215,1004,199,207,207,1213,199,225,202,1440,199,213,205,1655,199,195,209,1852,199,189,213,412,439,190,217,604,439,193,221,799,439,198,213,999,439,203,208,1204,439,207,202,1413,439,211,204,1626,439,215,207,604,662,216,210,604,874,216,211,604,1087,216,211,604,1300,216,211,604,1513,216,211,604,1726,216,211,822,662,216,211,1040,662,216,211,1258,662,216,211,1476,662,216,211,822,875,212,215,822,1092,205,222,822,1316,202,225,822,1543,205,220,1694,662,210,211,1036,875,213,207,1843,439,201,207,822,1765,198,222,1036,1084,195,232,1036,1318,195,235,1233,1084,199,236,1233,1322,206,238,1434,1084,211,226,1251,875,217,207,216,1,213,195,431,1,212,179,645,1,221,178,868,1,221,180,1091,1,215,180,1308,1,212,179,1522,1,221,177,1745,1,221,180,1470,875,215,180,1687,875,212,179,1647,1084,221,177,1441,1322,221,180,1664,1322,215,180,1441,1504,212,179,1655,1504,216,176,1655,1682,213,174,1036,1555,193,204,412,658,188,237,1036,1761,194,233,1441,1685,210,202,1,1851,205,194,1233,1562,202,204],offsets:[214,238,217,225,222,202,228,188,230,188,227,190,222,202,219,205,219,215,219,213,219,210,219,207,219,205,219,205,219,205,222,200,225,196,223,204,219,219,216,227,207,232,213,229,223,224,226,221,226,216,224,212,221,220,219,225,217,231,215,229,213,226,213,223,213,222,213,222,213,222,213,222,213,222,213,222,213,222,213,222,213,222,215,218,218,211,219,208,218,213,215,222,214,226,219,227,221,211,223,201,222,198,220,197,218,195,215,206,210,225,212,238,212,254,206,255,206,253,209,253,212,254,206,256,206,253,209,253,212,254,206,256,206,253,209,253,212,254,210,257,213,259,226,228,229,195,225,199,214,232,217,240,219,230]},{id:182,preCutWidth:640,preCutHeight:640,rects:[1,1,222,196,1,199,209,201,1,402,203,209,1,613,197,215,1,830,193,218,1,1050,194,219,200,613,197,210,206,402,201,202,212,199,204,198,196,830,208,200,197,1050,212,204,1,1271,215,207,1,1480,216,208],offsets:[211,238,216,233,219,225,222,219,224,216,224,215,222,224,220,232,219,236,217,235,215,231,213,228,213,227]},{id:73,preCutWidth:275,preCutHeight:275,rects:[0,0,137,139,137,0,105,100,0,139,235,235,0,374,240,246],offsets:[65,70,84,86,18,19,13,14]},{id:74,preCutWidth:833,preCutHeight:250,rects:[0,0,507,85,0,85,507,100,0,185,507,100,0,285,507,97,0,382,507,92],offsets:[163,82,163,73,163,71,163,70,163,75]},{id:75,preCutWidth:276,preCutHeight:276,rects:[0,0,84,128,84,0,68,109,152,0,50,109,0,128,140,121,0,249,148,147]},{id:76,preCutWidth:761,preCutHeight:761,rects:[0,0,220,239,0,239,206,290,0,529,205,290,0,819,220,246,0,1065,237,219,0,1284,226,231,220,0,18,17,238,0,11,11,206,239,38,39],offsets:[271,262,286,232,287,232,271,249,262,272,268,266,382,376,385,379,372,365]},{id:77,preCutWidth:998,preCutHeight:1058,rects:[3,3,148,12,3,21,39,187,48,21,182,150,236,21,144,130,3,214,244,233,253,214,159,143,157,3,49,9,386,21,89,84,3,453,102,148,3,607,260,315],offsets:[585,767,160,241,412,548,307,397,184,663,530,224,676,540,540,425,351,211,684,200]},{id:78,preCutWidth:431,preCutHeight:431,rects:[0,0,294,335,294,0,297,336,0,335,291,252,591,0,307,293,0,587,276,224],offsets:[53,6,51,3,55,78,47,57,63,98]},{id:79,preCutWidth:833,preCutHeight:250,rects:[0,0,194,127,0,127,201,103,0,230,204,96,0,326,193,142,0,468,194,111],offsets:[319,69,316,81,314,87,319,55,319,77]},{id:80,preCutWidth:833,preCutHeight:250,rects:[0,0,302,123,302,0,319,99,621,0,322,95,302,99,292,136,0,123,302,111],offsets:[268,70,260,85,258,87,273,58,268,77]},{id:58,preCutWidth:2028,preCutHeight:1597,rects:[0,0,239,239],offsets:[811,344]},{id:3,preCutWidth:936,preCutHeight:418,rects:[0,0,735,174,0,174,727,173],offsets:[102,116,107,117]},{id:6,preCutWidth:2560,preCutHeight:1440,rects:[2,2,58,1303,64,2,65,1303,133,2,305,405,133,411,835,789],offsets:[1216,67,1274,67,1096,31,455,578]},{id:40,preCutWidth:2560,preCutHeight:1440,rects:[2,2,2560,1440,2566,2,2560,920,5130,2,1781,1781],offsets:[0,0,0,520,388,-172]},{id:41,preCutWidth:193,preCutHeight:193,rects:[0,0,187,149,0,149,187,149],offsets:[4,23,4,23]},{id:42,preCutWidth:2560,preCutHeight:1440,rects:[0,0,792,792,792,0,7,8,799,0,7,8,806,0,7,7,813,0,7,7,820,0,7,8],offsets:[880,283,1289,403,1289,665,1289,770,1289,1026,1289,531]},{id:43,preCutWidth:833,preCutHeight:250,rects:[0,0,128,93],offsets:[133,76]},{id:44,preCutWidth:1076,preCutHeight:983,rects:[0,0,868,795,0,795,267,300,267,795,305,135],offsets:[101,113,434,316,408,405]},{id:45,preCutWidth:218,preCutHeight:218,rects:[0,0,190,196,0,196,202,208,0,404,143,77,0,481,141,77,0,558,143,77,0,635,142,77],offsets:[10,10,5,7,58,139,59,139,58,139,58,139]},{id:46,preCutWidth:1129,preCutHeight:1092,rects:[2,2,229,183,235,2,166,174,405,2,146,69,405,75,146,85,555,2,144,140,703,2,173,166,2,189,162,168,2,361,169,170,2,535,166,171,2,710,166,175,172,710,166,172,342,710,166,174,512,710,166,174,682,710,166,174,2,889,477,221,880,2,58,58,2,1114,434,472,2,1590,445,481,440,1114,434,472,451,1590,434,472,2,2075,434,481,440,2075,434,473,2,2560,434,473,440,2560,467,473,2,3037,436,459,168,189,103,124,880,64,84,103,275,189,103,124,382,189,83,103],offsets:[464,598,499,616,513,714,511,695,513,622,496,632,503,645,497,627,499,619,499,617,499,618,499,616,499,616,499,616,339,558,548,667,362,365,358,364,362,364,362,364,362,364,362,363,362,363,329,363,360,363,533,586,543,595,534,586,543,595]},{id:47,preCutWidth:679,preCutHeight:206,rects:[0,0,208,206,0,206,205,204,0,410,92,95,92,410,92,95],offsets:[0,-2,1,1,457,90,563,90]},{id:48,preCutWidth:679,preCutHeight:206,rects:[0,0,291,49],offsets:[143,106]},{id:49,preCutWidth:936,preCutHeight:418,rects:[0,0,420,174,0,174,419,173],offsets:[262,115,263,115]},{id:50,preCutWidth:2560,preCutHeight:122,rects:[0,0,96,97,96,0,96,97],offsets:[2237,9,2237,9]},{id:54,preCutWidth:2560,preCutHeight:380,rects:[0,0,2560,310]},{id:55,preCutWidth:2560,preCutHeight:1597,rects:[1,1,7,7,10,1,7,7,19,1,7,7,28,1,7,7,37,1,7,7,46,1,8,7,56,1,7,7,65,1,7,7,74,1,7,7,83,1,7,7,92,1,7,7,101,1,7,7,110,1,7,7,1,10,228,218,231,10,210,203,1,230,626,11,1,243,889,398],offsets:[1052,556,1261,556,1467,556,1261,378,1264,771,1117,721,1461,721,1264,721,1264,840,1261,1186,1495,993,1052,993,1617,768,816,350,825,358,603,465,153,89]},{id:108,rects:[0,0,198,194,0,194,198,194,0,388,198,194]},{id:111,rects:[0,0,202,81],offsets:[316,87],preCutWidth:833,preCutHeight:250},{id:112,rects:[0,0,319,83],offsets:[260,87],preCutWidth:833,preCutHeight:250},{id:113,rects:[0,0,444,86],offsets:[195,81],preCutWidth:833,preCutHeight:250},{id:114,rects:[0,0,559,89],offsets:[137,77],preCutWidth:833,preCutHeight:250},{id:115,rects:[0,0,101,102,0,102,101,102,0,204,101,102,0,306,101,102],offsets:[219,29,218,29,219,29,219,29],preCutWidth:534,preCutHeight:160},{id:116,preCutWidth:275,preCutHeight:275,rects:[0,0,4,4,2,2,89,116,95,2,177,37,276,2,187,77,95,43,87,61],offsets:[143,196,93,75,50,84,45,39,95,35]},{id:117,preCutWidth:25,preCutHeight:25,rects:[0,0,25,25]},{id:b.IMG_CHAR_SUPPORTS,rects:[0,0,291,302,0,302,363,409,363,302,383,309,0,711,405,492,405,711,374,330,0,1203,350,334,0,1537,314,335,350,1203,326,334,291,0,339,288,630,0,275,162,350,1537,372,317],offsets:[173,274,137,156,133,207,107,104,134,240,148,242,152,237,154,244,145,259,181,392,123,236],preCutWidth:640,preCutHeight:640},{id:b.IMG_OBJ_VINIL,rects:[1,1,1064,1064,1067,1,532,495,1601,1,145,286,1601,289,38,38,1748,1,204,174,1748,177,183,154],offsets:[55,154,55,686,442,543,568,667,484,1083,493,1093],preCutWidth:1174,preCutHeight:1498},{id:b.IMG_BGR_01_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2305},{id:b.IMG_BGR_01_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,708],offsets:[0,896],preCutWidth:2048,preCutHeight:2305},{id:b.IMG_BGR_02_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_02_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,874],offsets:[0,835],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_03_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_03_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1052],offsets:[0,756],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_04_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_04_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1072],offsets:[0,768],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_05_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_05_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1124],offsets:[0,624],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_06_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_BGR_06_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,948],offsets:[0,760],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_BGR_07_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_07_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,886],offsets:[0,881],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_08_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152,0,0,4,3],offsets:[0,0,1028.5,581],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_08_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,642,0,0,4,3],offsets:[0,889,1028.5,581],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_09_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_09_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,858],offsets:[0,780],preCutWidth:2048,preCutHeight:1638},{id:b.IMG_BGR_10_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_10_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,887],offsets:[0,792],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_11_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1153],offsets:[0,-1],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_11_P2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,980],offsets:[0,802],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_12_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1153],offsets:[0,-1],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_13_P1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1153],offsets:[0,-1],preCutWidth:2048,preCutHeight:2304},{id:b.IMG_BGR_IE,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_BGR_XMAS,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2305},{id:b.IMG_BGR_PADDINGTON,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:2305},{id:b.IMG_TIME_BGR_1,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_TIME_BGR_2,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_TIME_BGR_3,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_TIME_BGR_4,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_TIME_BGR_5,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866},{id:b.IMG_TIME_BGR_6,resScale:1.25,skipOffsetAdjustment:!0,rects:[0,0,2048,1152],offsets:[0,0],preCutWidth:2048,preCutHeight:1866}],x=class{path;type;atlasPath;atlasFormat;frameOrder;offsetNormalization;texture;font;info;pendingImage;_atlasFailed;constructor(e,t,n={}){this.path=e,this.type=t,n.atlasPath&&(this.atlasPath=n.atlasPath),n.atlasFormat&&(this.atlasFormat=n.atlasFormat),n.frameOrder&&(this.frameOrder=n.frameOrder.slice()),n.offsetNormalization&&(this.offsetNormalization=n.offsetNormalization)}},S={IMAGE:0,SOUND:1,FONT:2,STRINGS:3},C=[];C[b.IMG_DEFAULT]=new x(`zeptolab.webp`,S.IMAGE),C[b.IMG_LOADERBAR_FULL]=new x(`loaderbar_full.webp`,S.IMAGE),C[b.IMG_CHILLINGO]=new x(`Default.webp`,S.IMAGE),C[b.IMG_MENU_BUTTON_DEFAULT]=new x(`menu_button_default.webp`,S.IMAGE),C[b.FNT_BIG_FONT]=new x(`big_font.webp`,S.FONT),C[b.FNT_SMALL_FONT]=new x(`small_font.webp`,S.FONT),C[b.IMG_MENU_LOADING]=new x(`menu_loading.webp`,S.IMAGE),C[b.SND_TAP]=new x(`tap`,S.SOUND),C[b.STR_MENU]=new x(`menu_strings.xml`,S.STRINGS),C[b.SND_BUTTON]=new x(`button`,S.SOUND),C[b.SND_BUBBLE_BREAK]=new x(`bubble_break`,S.SOUND),C[b.SND_BUBBLE]=new x(`bubble`,S.SOUND),C[b.SND_CANDY_BREAK]=new x(`candy_break`,S.SOUND),C[b.SND_MONSTER_CHEWING]=new x(`monster_chewing`,S.SOUND),C[b.SND_MONSTER_CLOSE]=new x(`monster_close`,S.SOUND),C[b.SND_MONSTER_OPEN]=new x(`monster_open`,S.SOUND),C[b.SND_MONSTER_SAD]=new x(`monster_sad`,S.SOUND),C[b.SND_RING]=new x(`ring`,S.SOUND),C[b.SND_ROPE_BLEAK_1]=new x(`rope_bleak_1`,S.SOUND),C[b.SND_ROPE_BLEAK_2]=new x(`rope_bleak_2`,S.SOUND),C[b.SND_ROPE_BLEAK_3]=new x(`rope_bleak_3`,S.SOUND),C[b.SND_ROPE_BLEAK_4]=new x(`rope_bleak_4`,S.SOUND),C[b.SND_ROPE_GET]=new x(`rope_get`,S.SOUND),C[b.SND_STAR_1]=new x(`star_1`,S.SOUND),C[b.SND_STAR_2]=new x(`star_2`,S.SOUND),C[b.SND_STAR_3]=new x(`star_3`,S.SOUND),C[b.SND_ELECTRIC]=new x(`electric`,S.SOUND),C[b.SND_PUMP_1]=new x(`pump_1`,S.SOUND),C[b.SND_PUMP_2]=new x(`pump_2`,S.SOUND),C[b.SND_PUMP_3]=new x(`pump_3`,S.SOUND),C[b.SND_PUMP_4]=new x(`pump_4`,S.SOUND),C[b.SND_SPIDER_ACTIVATE]=new x(`spider_activate`,S.SOUND),C[b.SND_SPIDER_FALL]=new x(`spider_fall`,S.SOUND),C[b.SND_SPIDER_WIN]=new x(`spider_win`,S.SOUND),C[b.SND_WHEEL]=new x(`wheel`,S.SOUND),C[b.SND_WIN]=new x(`win`,S.SOUND),C[b.SND_GRAVITY_OFF]=new x(`gravity_off`,S.SOUND),C[b.SND_GRAVITY_ON]=new x(`gravity_on`,S.SOUND),C[b.SND_CANDY_LINK]=new x(`candy_link`,S.SOUND),C[b.SND_BOUNCER]=new x(`bouncer`,S.SOUND),C[b.IMG_MENU_BGR]=new x(`menu_bgr.webp`,S.IMAGE),C[b.IMG_MENU_BUTTON_CRYSTAL]=new x(`menu_button_crystal.webp`,S.IMAGE),C[b.IMG_MENU_POPUP]=new x(`menu_popup.webp`,S.IMAGE),C[b.IMG_MENU_BUTTON_CRYSTAL_ICON]=new x(`menu_button_crystal_icon.webp`,S.IMAGE),C[b.IMG_MENU_LOGO]=new x(`menu_logo.webp`,S.IMAGE),C[b.IMG_MENU_LEVEL_SELECTION]=new x(`menu_level_selection.webp`,S.IMAGE),C[b.IMG_MENU_PACK_SELECTION]=new x(`menu_pack_selection.webp`,S.IMAGE),C[b.IMG_MENU_EXTRA_BUTTONS]=new x(`menu_extra_buttons.webp`,S.IMAGE),C[b.IMG_MENU_EXTRA_BUTTONS_EN]=new x(`menu_extra_buttons_en.webp`,S.IMAGE),C[b.IMG_MENU_BUTTON_SHORT]=new x(`menu_button_short.webp`,S.IMAGE),C[b.IMG_HUD_BUTTONS]=new x(`hud_buttons.webp`,S.IMAGE),C[b.IMG_OBJ_CANDY_01]=new x(`obj_candy_01.webp`,S.IMAGE),C[b.IMG_OBJ_SPIDER]=new x(`obj_spider.webp`,S.IMAGE),C[b.IMG_CONFETTI_PARTICLES]=new x(`confetti_particles.webp`,S.IMAGE,{atlasPath:`confetti_particles.json`,atlasFormat:`texture-packer`}),C[b.IMG_MENU_PAUSE]=new x(`menu_pause.webp`,S.IMAGE),C[b.IMG_MENU_RESULT]=new x(`menu_result.webp`,S.IMAGE),C[b.FNT_FONT_NUMBERS_BIG]=new x(`font_numbers_big.webp`,S.FONT),C[b.IMG_HUD_BUTTONS_EN]=new x(`hud_buttons_en.webp`,S.IMAGE),C[b.IMG_MENU_RESULT_EN]=new x(`menu_result_en.webp`,S.IMAGE),C[b.IMG_OBJ_STAR_DISAPPEAR]=new x(`obj_star_disappear.webp`,S.IMAGE),C[b.IMG_OBJ_BUBBLE_FLIGHT]=new x(`obj_bubble_flight.webp`,S.IMAGE),C[b.IMG_OBJ_BUBBLE_POP]=new x(`obj_bubble_pop.webp`,S.IMAGE),C[b.IMG_OBJ_HOOK_AUTO]=new x(`obj_hook_auto.webp`,S.IMAGE),C[b.IMG_OBJ_SPIKES_04]=new x(`obj_spikes_04.webp`,S.IMAGE),C[b.IMG_OBJ_BUBBLE_ATTACHED]=new x(`obj_bubble_attached.webp`,S.IMAGE),C[b.IMG_OBJ_HOOK_01]=new x(`obj_hook_01.webp`,S.IMAGE),C[b.IMG_OBJ_HOOK_02]=new x(`obj_hook_02.webp`,S.IMAGE),C[b.IMG_OBJ_STAR_IDLE]=new x(`obj_star_idle.webp`,S.IMAGE),C[b.IMG_OBJ_STAR_NIGHT]=new x(`obj_star_night.webp`,S.IMAGE,{atlasPath:`obj_star_night.json`,atlasFormat:`texture-packer`}),C[b.IMG_HUD_STAR]=new x(`hud_star.webp`,S.IMAGE),C[b.IMG_OBJ_SPIKES_03]=new x(`obj_spikes_03.webp`,S.IMAGE),C[b.IMG_OBJ_SPIKES_02]=new x(`obj_spikes_02.webp`,S.IMAGE),C[b.IMG_OBJ_SPIKES_01]=new x(`obj_spikes_01.webp`,S.IMAGE),C[b.IMG_CHAR_ANIMATIONS]=new x(`char_animations.webp`,S.IMAGE),C[b.IMG_CHAR_ANIMATIONS2]=new x(`char_animations2.webp`,S.IMAGE),C[b.IMG_CHAR_ANIMATIONS3]=new x(`char_animations3.webp`,S.IMAGE),C[b.IMG_CHAR_ANIMATIONS_SLEEPING]=new x(`char_animations_sleeping.webp`,S.IMAGE,{atlasPath:`char_animations_sleeping.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_HOOK_REGULATED]=new x(`obj_hook_regulated.webp`,S.IMAGE),C[b.IMG_OBJ_ELECTRODES]=new x(`obj_electrodes.webp`,S.IMAGE),C[b.IMG_OBJ_HOOK_MOVABLE]=new x(`obj_hook_movable.webp`,S.IMAGE),C[b.IMG_OBJ_PUMP]=new x(`obj_pump.webp`,S.IMAGE),C[b.IMG_TUTORIAL_SIGNS]=new x(`tutorial_signs.webp`,S.IMAGE),C[b.IMG_OBJ_SOCKS]=new x(`obj_hat.webp`,S.IMAGE),C[b.IMG_OBJ_BOUNCER_01]=new x(`obj_bouncer_01.webp`,S.IMAGE),C[b.IMG_OBJ_BOUNCER_02]=new x(`obj_bouncer_02.webp`,S.IMAGE),C[b.SND_MENU_MUSIC]=new x(`menu_music`,S.SOUND),C[b.SND_GAME_MUSIC]=new x(`game_music`,S.SOUND),C[b.SND_GAME_MUSIC2]=new x(`game_music2`,S.SOUND),C[b.SND_GAME_MUSIC3]=new x(`game_music3`,S.SOUND),C[b.SND_GAME_MUSIC4]=new x(`game_music4`,S.SOUND),C[b.IMG_DRAWING_HIDDEN]=new x(`obj_drawing_hidden.webp`,S.IMAGE),C[b.IMG_OBJ_ROTATABLE_SPIKES_01]=new x(`obj_rotatable_spikes_01.webp`,S.IMAGE),C[b.IMG_OBJ_ROTATABLE_SPIKES_02]=new x(`obj_rotatable_spikes_02.webp`,S.IMAGE),C[b.IMG_OBJ_ROTATABLE_SPIKES_03]=new x(`obj_rotatable_spikes_03.webp`,S.IMAGE),C[b.IMG_OBJ_ROTATABLE_SPIKES_04]=new x(`obj_rotatable_spikes_04.webp`,S.IMAGE),C[b.IMG_OBJ_ROTATABLE_SPIKES_BUTTON]=new x(`obj_rotatable_spikes_button.webp`,S.IMAGE),C[b.IMG_OBJ_BEE_HD]=new x(`obj_bee_hd.webp`,S.IMAGE),C[b.IMG_OBJ_POLLEN_HD]=new x(`obj_pollen_hd.webp`,S.IMAGE),C[b.SND_SPIKE_ROTATE_IN]=new x(`spike_rotate_in`,S.SOUND),C[b.SND_SPIKE_ROTATE_OUT]=new x(`spike_rotate_out`,S.SOUND),C[b.IMG_CHAR_SUPPORTS]=new x(`char_supports.webp`,S.IMAGE,{atlasPath:`char_supports.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_VINIL]=new x(`obj_vinil.webp`,S.IMAGE),C[b.SND_SCRATCH_IN]=new x(`scratch_in`,S.SOUND),C[b.SND_SCRATCH_OUT]=new x(`scratch_out`,S.SOUND),C[b.SND_BUZZ]=new x(`buzz`,S.SOUND),C[b.SND_TELEPORT]=new x(`teleport`,S.SOUND),C[b.IMG_BGR_01_P1]=new x(`bgr_01_p1.webp`,S.IMAGE),C[b.IMG_BGR_01_P2]=new x(`bgr_01_p2.webp`,S.IMAGE),C[b.IMG_BGR_02_P1]=new x(`bgr_02_p1.webp`,S.IMAGE),C[b.IMG_BGR_02_P2]=new x(`bgr_02_p2.webp`,S.IMAGE),C[b.IMG_BGR_03_P1]=new x(`bgr_03_p1.webp`,S.IMAGE),C[b.IMG_BGR_03_P2]=new x(`bgr_03_p2.webp`,S.IMAGE),C[b.IMG_BGR_04_P1]=new x(`bgr_04_p1.webp`,S.IMAGE),C[b.IMG_BGR_04_P2]=new x(`bgr_04_p2.webp`,S.IMAGE),C[b.IMG_BGR_05_P1]=new x(`bgr_05_p1.webp`,S.IMAGE),C[b.IMG_BGR_05_P2]=new x(`bgr_05_p2.webp`,S.IMAGE),C[b.IMG_BGR_06_P1]=new x(`bgr_06_p1.webp`,S.IMAGE),C[b.IMG_BGR_06_P2]=new x(`bgr_06_p2.webp`,S.IMAGE),C[b.IMG_BGR_07_P1]=new x(`bgr_07_p1.webp`,S.IMAGE),C[b.IMG_BGR_07_P2]=new x(`bgr_07_p2.webp`,S.IMAGE),C[b.IMG_BGR_08_P1]=new x(`bgr_08_p1.webp`,S.IMAGE),C[b.IMG_BGR_08_P2]=new x(`bgr_08_p2.webp`,S.IMAGE),C[b.IMG_BGR_09_P1]=new x(`bgr_09_p1.webp`,S.IMAGE),C[b.IMG_BGR_09_P2]=new x(`bgr_09_p2.webp`,S.IMAGE),C[b.IMG_BGR_10_P1]=new x(`bgr_10_p1.webp`,S.IMAGE),C[b.IMG_BGR_10_P2]=new x(`bgr_10_p2.webp`,S.IMAGE),C[b.IMG_BGR_11_P1]=new x(`bgr_11_p1.webp`,S.IMAGE),C[b.IMG_BGR_11_P2]=new x(`bgr_11_p2.webp`,S.IMAGE),C[b.IMG_BGR_12_P1]=new x(`bgr_12_p1.webp`,S.IMAGE),C[b.IMG_BGR_13_P1]=new x(`bgr_13_p1.webp`,S.IMAGE),C[b.IMG_BGR_14_P1]=new x(`bgr_14_p1.webp`,S.IMAGE),C[b.IMG_BGR_15_P1]=new x(`bgr_15_p1.webp`,S.IMAGE),C[b.IMG_BGR_16_P1]=new x(`bgr_16_p1.webp`,S.IMAGE),C[b.IMG_BGR_17_P1]=new x(`bgr_17_p1.webp`,S.IMAGE),C[b.IMG_BGR_XMAS]=new x(`bgr_xmas.webp`,S.IMAGE),C[b.IMG_BGR_PADDINGTON]=new x(`bgr_paddington.webp`,S.IMAGE),C[b.IMG_BGR_IE]=new x(`bgr_ie.webp`,S.IMAGE),C[b.IMG_TIME_BGR_1]=new x(`bgr_time1.webp`,S.IMAGE),C[b.IMG_TIME_BGR_2]=new x(`bgr_time2.webp`,S.IMAGE),C[b.IMG_TIME_BGR_3]=new x(`bgr_time3.webp`,S.IMAGE),C[b.IMG_TIME_BGR_4]=new x(`bgr_time4.webp`,S.IMAGE),C[b.IMG_TIME_BGR_5]=new x(`bgr_time5.webp`,S.IMAGE),C[b.IMG_TIME_BGR_6]=new x(`bgr_time6.webp`,S.IMAGE),C[b.IMG_CAESAR_ANIMATIONS_1]=new x(`Caesar_animations_1_hd.webp`,S.IMAGE),C[b.IMG_CAESAR_ANIMATIONS_2]=new x(`Caesar_animations_2_hd.webp`,S.IMAGE),C[b.IMG_CAESAR_ANIMATIONS_3]=new x(`Caesar_animations_3_hd.webp`,S.IMAGE),C[b.IMG_CAESAR_ANIMATIONS_4]=new x(`Caesar_animations_4_hd.webp`,S.IMAGE),C[b.IMG_PAINTER_ANIMATIONS_1]=new x(`Painter_animations_1_hd.webp`,S.IMAGE),C[b.IMG_PAINTER_ANIMATIONS_2]=new x(`Painter_animations_2_hd.webp`,S.IMAGE),C[b.IMG_PAINTER_ANIMATIONS_3]=new x(`Painter_animations_3_hd.webp`,S.IMAGE),C[b.IMG_PAINTER_ANIMATIONS_4]=new x(`Painter_animations_4_hd.webp`,S.IMAGE),C[b.IMG_PHARAOH_ANIMATIONS_1]=new x(`Pharaoh_animations_1_hd.webp`,S.IMAGE),C[b.IMG_PHARAOH_ANIMATIONS_2]=new x(`Pharaoh_animations_2_hd.webp`,S.IMAGE),C[b.IMG_PHARAOH_ANIMATIONS_3]=new x(`Pharaoh_animations_3_hd.webp`,S.IMAGE),C[b.IMG_PHARAOH_ANIMATIONS_4]=new x(`Pharaoh_animations_4_hd.webp`,S.IMAGE),C[b.IMG_PIRATE_ANIMATIONS_1]=new x(`Pirate_animations_1_hd.webp`,S.IMAGE),C[b.IMG_PIRATE_ANIMATIONS_2]=new x(`Pirate_animations_2_hd.webp`,S.IMAGE),C[b.IMG_PIRATE_ANIMATIONS_3]=new x(`Pirate_animations_3_hd.webp`,S.IMAGE),C[b.IMG_PIRATE_ANIMATIONS_4]=new x(`Pirate_animations_4_hd.webp`,S.IMAGE),C[b.IMG_PREHISTORIC_ANIMATIONS_1]=new x(`Prehistoric_animations_1_hd.webp`,S.IMAGE),C[b.IMG_PREHISTORIC_ANIMATIONS_2]=new x(`Prehistoric_animations_2_hd.webp`,S.IMAGE),C[b.IMG_PREHISTORIC_ANIMATIONS_3]=new x(`Prehistoric_animations_3_hd.webp`,S.IMAGE),C[b.IMG_PREHISTORIC_ANIMATIONS_4]=new x(`Prehistoric_animations_4_hd.webp`,S.IMAGE),C[b.IMG_VIKING_ANIMATIONS_1]=new x(`Viking_animations_1_hd.webp`,S.IMAGE),C[b.IMG_VIKING_ANIMATIONS_2]=new x(`Viking_animations_2_hd.webp`,S.IMAGE),C[b.IMG_VIKING_ANIMATIONS_3]=new x(`Viking_animations_3_hd.webp`,S.IMAGE),C[b.IMG_VIKING_ANIMATIONS_4]=new x(`Viking_animations_4_hd.webp`,S.IMAGE),C[b.SND_CANDY_HIT]=new x(`candy_hit`,S.SOUND),C[b.SND_PREHISTORIC_MONSTER_CHEWING]=new x(`prehistoric_monster_chewing`,S.SOUND),C[b.SND_PREHISTORIC_MONSTER_CLOSE]=new x(`prehistoric_monster_close`,S.SOUND),C[b.SND_PREHISTORIC_MONSTER_OPEN]=new x(`prehistoric_monster_open`,S.SOUND),C[b.SND_PREHISTORIC_MONSTER_SAD]=new x(`prehistoric_monster_sad`,S.SOUND),C[b.SND_TIME_MENU_MUSIC]=new x(`time_menu`,S.SOUND),C[b.IMG_TIME_STANDS]=new x(`time-stands.webp`,S.IMAGE),C[b.SND_XMAS_BELL]=new x(`xmas_bell`,S.SOUND),C[b.SND_MENU_MUSIC_XMAS]=new x(`menu_music_xmas`,S.SOUND),C[b.SND_GAME_MUSIC_XMAS]=new x(`game_music_xmas`,S.SOUND),C[b.SND_TELEPORT_XMAS]=new x(`teleport_xmas`,S.SOUND),C[b.IMG_OBJ_GHOST]=new x(`obj_ghost.webp`,S.IMAGE,{atlasPath:`obj_ghost.json`,atlasFormat:`texture-packer`}),C[b.SND_GHOST_PUFF]=new x(`ghost_puff`,S.SOUND),C[b.IMG_OBJ_PIPE]=new x(`obj_pipe.webp`,S.IMAGE,{atlasPath:`obj_pipe.json`,atlasFormat:`texture-packer`}),C[b.SND_STEAM_START]=new x(`steam_start`,S.SOUND),C[b.SND_STEAM_START2]=new x(`steam_start2`,S.SOUND),C[b.SND_STEAM_END]=new x(`steam_end`,S.SOUND),C[b.IMG_OBJ_TRANSPORTER]=new x(`obj_transporter.png`,S.IMAGE,{atlasPath:`obj_transporter.json`,atlasFormat:`texture-packer`}),C[b.SND_TRANSPORTER_MOVE]=new x(`transporter_move`,S.SOUND),C[b.SND_TRANSPORTER_DROP]=new x(`transporter_drop`,S.SOUND),C[b.SND_CONV01]=new x(`con01`,S.SOUND),C[b.SND_CONV02]=new x(`con02`,S.SOUND),C[b.SND_CONV03]=new x(`con03`,S.SOUND),C[b.SND_CONV04]=new x(`con04`,S.SOUND),C[b.IMG_OBJ_GUN]=new x(`obj_gun.webp`,S.IMAGE,{atlasPath:`obj_gun.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_STICKER]=new x(`obj_sticker.webp`,S.IMAGE,{atlasPath:`obj_sticker.json`,atlasFormat:`texture-packer`}),C[b.SND_EXP_GUN]=new x(`gun`,S.SOUND),C[b.SND_EXP_SUCKER_DROP]=new x(`sucker_drop`,S.SOUND),C[b.SND_EXP_SUCKER_LAND]=new x(`sucker_land`,S.SOUND),C[b.IMG_CHAR_SUPPORTS_XMAS]=new x(`char_supports_xmas.webp`,S.IMAGE,{atlasPath:`char_supports_xmas.json`,atlasFormat:`texture-packer`}),C[b.IMG_CHAR_GREETINGS_XMAS]=new x(`char_greeting_xmas.webp`,S.IMAGE,{atlasPath:`char_greeting_xmas.json`,atlasFormat:`texture-packer`}),C[b.IMG_CHAR_IDLE_XMAS]=new x(`char_idle_xmas.webp`,S.IMAGE,{atlasPath:`char_idle_xmas.json`,atlasFormat:`texture-packer`}),C[b.IMG_XMAS_LIGHTS]=new x(`christmas_lights.webp`,S.IMAGE,{atlasPath:`christmas_lights.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_PADDINGTON]=new x(`obj_candy_paddington.webp`,S.IMAGE,{atlasPath:`obj_candy_paddington.json`,atlasFormat:`texture-packer`}),C[b.IMG_SNOWFLAKES]=new x(`snowflakes.webp`,S.IMAGE,{atlasPath:`snowflakes.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_SOCKS_XMAS]=new x(`obj_socks.webp`,S.IMAGE,{atlasPath:`obj_socks.json`,atlasFormat:`texture-packer`}),C[b.IMG_CHAR_ANIMATION_PADDINGTON]=new x(`char_animation_paddington.webp`,S.IMAGE,{atlasPath:`char_animation_paddington.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_01_NEW]=new x(`candies/obj_candy_01_new.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_01_new.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_FX]=new x(`candies/obj_candy_fx_web.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_fx_web.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_02]=new x(`candies/obj_candy_02.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_02.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_03]=new x(`candies/obj_candy_03.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_03.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_04]=new x(`candies/obj_candy_04_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_04_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_05]=new x(`candies/obj_candy_05_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_05_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_06]=new x(`candies/obj_candy_06_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_06_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_07]=new x(`candies/obj_candy_07_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_07_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_08]=new x(`candies/obj_candy_08_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_08_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_09]=new x(`candies/obj_candy_09_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_09_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_10]=new x(`candies/obj_candy_10_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_10_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_11]=new x(`candies/obj_candy_11_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_11_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_12]=new x(`candies/obj_candy_12_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_12_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_13]=new x(`candies/obj_candy_13_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_13_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_14]=new x(`candies/obj_candy_14_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_14_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_15]=new x(`candies/obj_candy_15_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_15_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_16]=new x(`candies/obj_candy_16_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_16_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_17]=new x(`candies/obj_candy_17_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_17_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_18]=new x(`candies/obj_candy_18_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_18_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_19]=new x(`candies/obj_candy_19_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_19_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_20]=new x(`candies/obj_candy_20_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_20_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_21]=new x(`candies/obj_candy_21_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_21_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_22]=new x(`candies/obj_candy_22_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_22_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_23]=new x(`candies/obj_candy_23_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_23_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_24]=new x(`candies/obj_candy_24_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_24_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_25]=new x(`candies/obj_candy_25_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_25_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_26]=new x(`candies/obj_candy_26_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_26_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_27]=new x(`candies/obj_candy_27_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_27_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_28]=new x(`candies/obj_candy_28_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_28_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_29]=new x(`candies/obj_candy_29_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_29_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_30]=new x(`candies/obj_candy_30_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_30_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_31]=new x(`candies/obj_candy_31_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_31_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_32]=new x(`candies/obj_candy_32_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_32_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_33]=new x(`candies/obj_candy_33_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_33_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_34]=new x(`candies/obj_candy_34_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_34_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_35]=new x(`candies/obj_candy_35_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_35_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_36]=new x(`candies/obj_candy_36_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_36_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_37]=new x(`candies/obj_candy_37_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_37_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_38]=new x(`candies/obj_candy_38_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_38_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_39]=new x(`candies/obj_candy_39_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_39_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_40]=new x(`candies/obj_candy_40_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_40_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_41]=new x(`candies/obj_candy_41_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_41_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_42]=new x(`candies/obj_candy_42_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_42_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_43]=new x(`candies/obj_candy_43_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_43_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_44]=new x(`candies/obj_candy_44_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_44_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_45]=new x(`candies/obj_candy_45_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_45_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_46]=new x(`candies/obj_candy_46_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_46_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_47]=new x(`candies/obj_candy_47_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_47_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_48]=new x(`candies/obj_candy_48_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_48_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_49]=new x(`candies/obj_candy_49_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_49_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_50]=new x(`candies/obj_candy_50_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_50_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_CANDY_51]=new x(`candies/obj_candy_51_extracted.webp`,S.IMAGE,{atlasPath:`candies/obj_candy_51_extracted.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_LANTERN]=new x(`obj_lantern.webp`,S.IMAGE,{atlasPath:`obj_lantern.json`,atlasFormat:`texture-packer`}),C[b.IMG_OBJ_LIGHTER]=new x(`obj_lighter.webp`,S.IMAGE,{atlasPath:`obj_lighter.json`,atlasFormat:`texture-packer`}),C[b.SND_LANTERN_TELEPORT_IN]=new x(`lantern_teleport_in`,S.SOUND),C[b.SND_LANTERN_TELEPORT_OUT]=new x(`lantern_teleport_out`,S.SOUND),C[b.IMG_OBJ_GAP]=new x(`obj_gap.webp`,S.IMAGE,{atlasPath:`obj_gap.json`,atlasFormat:`texture-packer`}),C[b.SND_MOUSE_RUSTLE]=new x(`mouse_rustle`,S.SOUND),C[b.SND_MOUSE_IDLE]=new x(`mouse_idle`,S.SOUND),C[b.SND_MOUSE_TAP]=new x(`mouse_tap`,S.SOUND),C[b.SND_MONSTER_SLEEP_1]=new x(`monster_sleep01`,S.SOUND),C[b.SND_MONSTER_SLEEP_2]=new x(`monster_sleep02`,S.SOUND),C[b.SND_MONSTER_SLEEP_3]=new x(`monster_sleep03`,S.SOUND),C[b.SND_STAR_LIGHT_1]=new x(`star_light01`,S.SOUND),C[b.SND_STAR_LIGHT_2]=new x(`star_light02`,S.SOUND);var w=C,T=(e,t)=>Math.round(e*t*1e4)/1e4,vn=new class{scaleResourceInfos(e,t){for(let n=0,r=e.length;n<r;n++){let r=e[n],i=r.resScale||1;this.scaleResourceInfo(r,T(t,i))}}scaleResourceInfo(e,t){e.charOffset&&=T(e.charOffset,t),e.lineOffset&&=T(e.lineOffset,t),e.spaceWidth&&=T(e.spaceWidth,t),e.preCutWidth&&=Math.ceil(T(e.preCutWidth,t)),e.preCutHeight&&=Math.ceil(T(e.preCutHeight,t)),e.rects&&Array.isArray(e.rects)&&typeof e.rects[0]==`number`&&(e.originalRects=this.parseOriginalRects(e.rects),e.rects=this.scaleRects(e.originalRects,t,e.id??0)),e.adjustmentMaxX=0,e.adjustmentMaxX=0,e.offsets&&Array.isArray(e.offsets)&&typeof e.offsets[0]==`number`&&(e.originalOffsets=this.parseOriginalOffsets(e.offsets),this.scaleOffsets(e,t))}parseOriginalRects(e){let t=0,n=e.length,r=[];for(;t<n;){let n=new y(e[t++],e[t++],e[t++],e[t++]);r.push(n)}return r}scaleRects(e,t,n){let r=[],i=e.length,a=Math.ceil(Math.sqrt(i)),o=0,s=0,c=2,l=0;for(let n=0;n<i;n++){let i=e[n];o=(o+1)%a,o===1&&(s+=l+2,c=2,l=0);let u=new y(s,c,T(i.w,t),T(i.h,t));r.push(u),c+=Math.ceil(u.h)+2,l=Math.max(l,Math.ceil(u.w))}return r}parseOriginalOffsets(e){let t=0,n=e.length,r=[];for(;t<n;){let n=new o(e[t++],e[t++]);r.push(n)}return r}scaleOffsets(e,t){let n=[],r=e.originalOffsets,i=[];for(let e=0,a=r.length;e<a;e++){let a=r[e].copy();a.x=T(a.x,t),a.y=T(a.y,t);let s=new o(0,0);n.push(s),i.push(a)}e.offsets=i,e.offsetAdjustments=n,delete e.originalOffsets}},yn=async e=>{let t=await fetch(e);if(!t.ok)throw Error(`Request failed with status ${t.status}`);let n=await t.text();try{return JSON.parse(n)}catch(t){throw window.console?.error?.(`Failed to parse JSON:`,e,t),t}},bn=new class{menuJsonLoadComplete=!1;loadedJsonFiles=0;failedJsonFiles=0;totalJsonFiles=0;checkCompleteCallback=null;progressCallback=null;jsonCache=new Map;getJsonFileCount(){return this.totalJsonFiles}onProgress(e){this.progressCallback=e}onMenuComplete(e){this.checkCompleteCallback=e}async start(){let e=`./`.replace(/\/$/,``);try{let t=`${e}/data/config/editions/net-box-text.json`,n=`${e}/data/resources/menu-strings.json`,[r,i]=await Promise.all([yn(t),yn(n)]);this.jsonCache.set(`boxMetadata`,r),this.jsonCache.set(`menuStrings`,i);let a=[];r.forEach((t,n)=>{if(t.levelCount&&typeof t.levelCount==`number`){let r=String(n).padStart(2,`0`);for(let n=1;n<=t.levelCount;n++){let t=String(n).padStart(2,`0`);a.push({url:`${e}/data/boxes/levels/${r}-${t}.json`,key:`level-${r}-${t}`})}}}),this.totalJsonFiles=2+a.length,this.loadedJsonFiles=2,this.progressCallback?.(this.loadedJsonFiles,this.totalJsonFiles);let o=a.map(async({url:e,key:t})=>{try{let n=await yn(e);return this.jsonCache.set(t,n),this.loadedJsonFiles++,this.progressCallback?.(this.loadedJsonFiles,this.totalJsonFiles),{success:!0,key:t}}catch{return this.loadedJsonFiles++,this.progressCallback?.(this.loadedJsonFiles,this.totalJsonFiles),{success:!1,key:t,silent:!0}}});await Promise.all(o),this.menuJsonLoadComplete=!0,this.checkCompleteCallback?.()}catch(e){this.failedJsonFiles++,window.console?.error?.(`Failed to load box metadata`,e),this.menuJsonLoadComplete=!0,this.checkCompleteCallback?.()}}getJson(e){return this.jsonCache.get(e)}getAllLevels(){let e=new Map;for(let[t,n]of this.jsonCache.entries())if(t.startsWith(`level-`)){let r=t.match(/level-(\d{2})-(\d{2})/);if(r){let t=r[1],i=r[2];if(!t||!i)continue;e.has(t)||e.set(t,[]);let a=e.get(t);a&&a.push({levelNumber:i,level:n})}}return e}getBoxMetadata(){let e=this.jsonCache.get(`boxMetadata`);if(Array.isArray(e))return e}getMenuStrings(){let e=this.jsonCache.get(`menuStrings`);if(Array.isArray(e))return e}},xn=null,Sn=()=>{if(xn)return xn;let e=Array.from(bn.getAllLevels());return e.length===0?[]:(xn=e.sort(([e],[t])=>e.localeCompare(t)).map(([,e])=>({levels:e.sort((e,t)=>e.levelNumber.localeCompare(t.levelNumber)).map(({level:e})=>e)})),xn)},Cn=new Proxy([],{get(e,t){let n=Sn();return Reflect.get(n,t)},has(e,t){return t in Sn()},ownKeys(){let e=Sn();return Reflect.ownKeys(e)},getOwnPropertyDescriptor(e,t){let n=Sn();return Reflect.getOwnPropertyDescriptor(n,t)}}),E=class{static StandardMenuSounds=[b.SND_MENU_MUSIC,b.SND_MENU_MUSIC_XMAS,b.SND_BUTTON,b.SND_TAP];static TimeMenuSounds=[b.SND_TIME_MENU_MUSIC,b.SND_BUTTON,b.SND_TAP];static StandardGameImages=[b.IMG_CHAR_ANIMATIONS,b.IMG_CHAR_ANIMATIONS2,b.IMG_CHAR_ANIMATIONS3,b.IMG_CHAR_ANIMATIONS_SLEEPING,b.IMG_CHAR_GREETINGS_XMAS,b.IMG_CHAR_IDLE_XMAS,b.IMG_XMAS_LIGHTS,b.IMG_OBJ_HOOK_01,b.IMG_OBJ_HOOK_02,b.IMG_OBJ_HOOK_AUTO,b.IMG_OBJ_CANDY_01,b.IMG_OBJ_CANDY_01_NEW,b.IMG_OBJ_CANDY_FX,b.IMG_OBJ_BOUNCER_01,b.IMG_OBJ_BOUNCER_02,b.IMG_OBJ_BUBBLE_ATTACHED,b.IMG_OBJ_BUBBLE_FLIGHT,b.IMG_OBJ_BUBBLE_POP,b.IMG_OBJ_PUMP,b.IMG_OBJ_SPIDER,b.IMG_OBJ_SPIKES_01,b.IMG_OBJ_SPIKES_02,b.IMG_OBJ_SPIKES_03,b.IMG_OBJ_SPIKES_04,b.IMG_OBJ_STAR_IDLE,b.IMG_OBJ_STAR_NIGHT,b.IMG_OBJ_STAR_DISAPPEAR,b.IMG_HUD_STAR,b.IMG_TUTORIAL_SIGNS,b.IMG_DRAWING_HIDDEN,b.IMG_CHAR_SUPPORTS,b.IMG_CHAR_SUPPORTS_XMAS,b.IMG_OBJ_CANDY_PADDINGTON,b.IMG_SNOWFLAKES,b.IMG_CONFETTI_PARTICLES,b.IMG_OBJ_GHOST,b.IMG_OBJ_PIPE,b.IMG_OBJ_TRANSPORTER,b.IMG_OBJ_GAP,b.IMG_OBJ_CANDY_02,b.IMG_OBJ_CANDY_03,b.IMG_OBJ_CANDY_04,b.IMG_OBJ_CANDY_05,b.IMG_OBJ_CANDY_06,b.IMG_OBJ_CANDY_07,b.IMG_OBJ_CANDY_08,b.IMG_OBJ_CANDY_09,b.IMG_OBJ_CANDY_10,b.IMG_OBJ_CANDY_11,b.IMG_OBJ_CANDY_12,b.IMG_OBJ_CANDY_13,b.IMG_OBJ_CANDY_14,b.IMG_OBJ_CANDY_15,b.IMG_OBJ_CANDY_16,b.IMG_OBJ_CANDY_17,b.IMG_OBJ_CANDY_18,b.IMG_OBJ_CANDY_19,b.IMG_OBJ_CANDY_20,b.IMG_OBJ_CANDY_21,b.IMG_OBJ_CANDY_22,b.IMG_OBJ_CANDY_23,b.IMG_OBJ_CANDY_24,b.IMG_OBJ_CANDY_25,b.IMG_OBJ_CANDY_26,b.IMG_OBJ_CANDY_27,b.IMG_OBJ_CANDY_28,b.IMG_OBJ_CANDY_29,b.IMG_OBJ_CANDY_30,b.IMG_OBJ_CANDY_31,b.IMG_OBJ_CANDY_32,b.IMG_OBJ_CANDY_33,b.IMG_OBJ_CANDY_34,b.IMG_OBJ_CANDY_35,b.IMG_OBJ_CANDY_36,b.IMG_OBJ_CANDY_37,b.IMG_OBJ_CANDY_38,b.IMG_OBJ_CANDY_39,b.IMG_OBJ_CANDY_40,b.IMG_OBJ_CANDY_41,b.IMG_OBJ_CANDY_42,b.IMG_OBJ_CANDY_43,b.IMG_OBJ_CANDY_44,b.IMG_OBJ_CANDY_45,b.IMG_OBJ_CANDY_46,b.IMG_OBJ_CANDY_47,b.IMG_OBJ_CANDY_48,b.IMG_OBJ_CANDY_49,b.IMG_OBJ_CANDY_50,b.IMG_OBJ_CANDY_51,b.IMG_OBJ_LANTERN,b.IMG_OBJ_LIGHTER];static Round5AdditionalGameImages=[b.IMG_OBJ_BEE_HD,b.IMG_OBJ_POLLEN_HD];static Round5AdditionalSounds=[b.SND_BUZZ,b.SND_GRAVITY_OFF,b.SND_GRAVITY_ON];static TimeEditionAdditionalGameImages=[b.IMG_OBJ_SOCKS,b.IMG_OBJ_HOOK_MOVABLE,b.IMG_OBJ_ROTATABLE_SPIKES_01,b.IMG_OBJ_ROTATABLE_SPIKES_02,b.IMG_OBJ_ROTATABLE_SPIKES_03,b.IMG_OBJ_ROTATABLE_SPIKES_04,b.IMG_OBJ_ROTATABLE_SPIKES_BUTTON];static TimeEditionAdditionalSounds=[b.SND_SPIKE_ROTATE_IN,b.SND_SPIKE_ROTATE_OUT,b.SND_TELEPORT,b.SND_CANDY_HIT,b.SND_PREHISTORIC_MONSTER_CHEWING,b.SND_PREHISTORIC_MONSTER_OPEN,b.SND_PREHISTORIC_MONSTER_CLOSE,b.SND_PREHISTORIC_MONSTER_SAD];static FullGameAdditionalGameImages=[b.IMG_OBJ_HOOK_MOVABLE,b.IMG_OBJ_HOOK_REGULATED,b.IMG_OBJ_ELECTRODES,b.IMG_OBJ_SOCKS,b.IMG_OBJ_ROTATABLE_SPIKES_01,b.IMG_OBJ_ROTATABLE_SPIKES_02,b.IMG_OBJ_ROTATABLE_SPIKES_03,b.IMG_OBJ_ROTATABLE_SPIKES_04,b.IMG_OBJ_ROTATABLE_SPIKES_BUTTON,b.IMG_OBJ_BEE_HD,b.IMG_OBJ_POLLEN_HD,b.IMG_OBJ_VINIL,b.IMG_OBJ_SOCKS_XMAS,b.IMG_CHAR_ANIMATION_PADDINGTON,b.IMG_OBJ_GUN,b.IMG_OBJ_STICKER];static ChromeLiteAdditionalGameImages=[b.IMG_OBJ_SOCKS,b.IMG_OBJ_HOOK_MOVABLE,b.IMG_OBJ_ELECTRODES];static ChromeLiteAdditionalGameSounds=[b.SND_TELEPORT,b.SND_ELECTRIC];static StandardFonts=[b.FNT_SMALL_FONT,b.FNT_BIG_FONT,b.FNT_FONT_NUMBERS_BIG];static StandardGameSounds=[b.SND_GAME_MUSIC,b.SND_GAME_MUSIC2,b.SND_GAME_MUSIC3,b.SND_GAME_MUSIC4,b.SND_GAME_MUSIC_XMAS,b.SND_BOUNCER,b.SND_BUBBLE,b.SND_BUBBLE_BREAK,b.SND_CANDY_BREAK,b.SND_CANDY_LINK,b.SND_MONSTER_CHEWING,b.SND_MONSTER_CLOSE,b.SND_MONSTER_OPEN,b.SND_MONSTER_SAD,b.SND_PUMP_1,b.SND_PUMP_2,b.SND_PUMP_3,b.SND_PUMP_4,b.SND_ROPE_BLEAK_1,b.SND_ROPE_BLEAK_2,b.SND_ROPE_BLEAK_3,b.SND_ROPE_BLEAK_4,b.SND_ROPE_GET,b.SND_MOUSE_RUSTLE,b.SND_MOUSE_TAP,b.SND_MOUSE_IDLE,b.SND_SPIDER_ACTIVATE,b.SND_SPIDER_FALL,b.SND_SPIDER_WIN,b.SND_STAR_1,b.SND_STAR_2,b.SND_STAR_3,b.SND_WIN];static FullGameAdditionalSounds=[b.SND_ELECTRIC,b.SND_GRAVITY_OFF,b.SND_GRAVITY_ON,b.SND_RING,b.SND_WHEEL,b.SND_SPIKE_ROTATE_IN,b.SND_SPIKE_ROTATE_OUT,b.SND_SCRATCH_IN,b.SND_SCRATCH_OUT,b.SND_BUZZ,b.SND_TELEPORT,b.SND_XMAS_BELL,b.SND_TELEPORT_XMAS,b.SND_GHOST_PUFF,b.SND_STEAM_START,b.SND_STEAM_START2,b.SND_STEAM_END,b.SND_LANTERN_TELEPORT_IN,b.SND_LANTERN_TELEPORT_OUT,b.SND_MONSTER_SLEEP_1,b.SND_MONSTER_SLEEP_2,b.SND_MONSTER_SLEEP_3,b.SND_STAR_LIGHT_1,b.SND_STAR_LIGHT_2,b.SND_TRANSPORTER_MOVE,b.SND_TRANSPORTER_DROP,b.SND_CONV01,b.SND_CONV02,b.SND_CONV03,b.SND_CONV04,b.SND_EXP_GUN,b.SND_EXP_SUCKER_DROP,b.SND_EXP_SUCKER_LAND];static StandardMenuImageFilenames=`bBtn_bgd.webp,box_lock.webp,box_nav_menu.webp,box_omnom.webp,boxcutter.webp,boxmore_bgd.webp,buttonsprite.webp,fb.webp,fBtn_bgd.webp,flags.webp,fun-omnom.webp,gamecomplete.webp,lBtn_bgd.webp,level_bgd.webp,level_bgd_small.webp,leveltape.webp,leveltape_left.webp,leveltape_right.webp,mBtn_bgd.webp,menu_result_en.webp,menu_result_fr.webp,menu_result_gr.webp,menu_result_ru.webp,menubg.webp,options_stars_bgd.webp,options_stars_bgd_small.webp,perfect_mark.webp,ph_logo.webp,result_line.webp,sBtn_bgd.webp,shadow.webp,star_result.webp,star_result_small.webp,startbg.webp,taperoll.webp`.split(`,`);static DrawingMenuImageFilenames=[`drawing-bg.webp`];static NetDesignResolutionImageNames=`android.webp,box.webp,comic.webp,facebook.webp,footer_dot.webp,footer_finger.webp,full_version_bg.webp,full_version_text.webp,game_bg.webp,ipad.webp,iphone.webp,more_close.webp,more_text.webp,more_wallpaper.webp,more_window_bg.webp,more.webp,papercraft.webp,privacy.webp,shop_over.webp,shop.webp,terms.webp,twitter.webp,video_bg.webp,youtube.webp,zepto.webp,zeptologo.webp`.split(`,`)},D={NORMAL:`NORMAL`,IEPINNED:`IEPINNED`,MORECOMING:`MORECOMING`,PURCHASE:`PURCHASE`,TIME:`TIME`,HOLIDAY:`HOLIDAY`},O=class e{static EN=0;static FR=1;static DE=2;static RU=3;static KO=4;static ZH=5;static JA=6;static ES=7;static CA=8;static BR=9;static IT=10;static NL=11;static fromString(t){switch(t){case`de`:return e.DE;case`fr`:return e.FR;case`ru`:return e.RU;case`en`:case`en_GB`:case`en_US`:return e.EN;case`ko`:return e.KO;case`zh`:return e.ZH;case`ja`:return e.JA;case`es`:return e.ES;case`it`:return e.IT;case`nl`:return e.NL;case`br`:return e.BR;case`ca`:return e.CA}if(t.length>=3)switch(t.slice(0,3)){case`de-`:return e.DE;case`fr-`:return e.FR;case`ru-`:return e.RU;case`en-`:return e.EN;case`ko-`:return e.KO;case`zh-`:return e.ZH;case`ja-`:return e.JA;case`es-`:return e.ES;case`it-`:return e.IT;case`nl-`:return e.NL;case`br-`:return e.BR;case`ca-`:return e.CA}return null}static toCountryCode(t){switch(t){case e.DE:return`de`;case e.FR:return`fr`;case e.RU:return`ru`;case e.KO:return`ko`;case e.ZH:return`zh`;case e.JA:return`ja`;case e.ES:return`es`;case e.IT:return`it`;case e.NL:return`nl`;case e.BR:return`br`;case e.CA:return`ca`;case e.EN:default:return`en`}}},wn=new Date().getMonth();const k=wn===11||wn===0,Tn=wn===0;var En=`holidaygiftbox`,Dn=e=>{let t=D[e];return typeof t==`string`?t:e},On=e=>{if(e==null)return null;if(typeof e==`number`)return e;let t=b[e];return typeof t==`number`?t:null},A=new class{_cachedNormalizedMetadata=null;shadowSpeedup=1;menuMusicId;siteUrl=`http://www.cuttherope.net`;disableHiddenDrawings=!0;disableLanguageOption=!1;languages=[O.EN,O.FR,O.IT,O.DE,O.NL,O.RU,O.ES,O.BR,O.CA,O.KO,O.ZH,O.JA];boxBorders=[];menuSoundIds=E.StandardMenuSounds;gameSoundIds=[...E.StandardGameSounds,...E.FullGameAdditionalSounds];menuImageFilenames=E.StandardMenuImageFilenames;loaderPageImages=[`loader-bg.jpg`,`loader-logo.png`];gameImageIds=[...E.StandardGameImages,...E.FullGameAdditionalGameImages];boxes=Cn;drawingImageNames=[];editionImages=``;editionImageDirectory=``;disableBoxMenu=!1;enableBoxBackgroundEasterEgg=!1;boxDirectory=`ui/`;settingPrefix=``;getNormalizedBoxMetadata(){if(this._cachedNormalizedMetadata)return this._cachedNormalizedMetadata;let e=(bn.getBoxMetadata()??[]).map(e=>{let t=e.id===En,n={id:e.id,boxText:e.boxText,boxImage:e.boxImage??null,boxDoor:e.boxDoor??null,boxType:Dn(e.boxType),unlockStars:e.unlockStars??null,support:e.support??null,showEarth:e.showEarth??!1,levelBackgroundId:On(e.levelBackgroundId),levelOverlayId:On(e.levelOverlayId),levelLabel:e.levelLabel??null};return Tn&&t&&(n.boxDoor=`levelbgpad.webp`,n.levelBackgroundId=b.IMG_BGR_PADDINGTON??null,n.levelOverlayId=b.IMG_BGR_PADDINGTON??null),n});return this._cachedNormalizedMetadata=e,e}get boxText(){return this.getNormalizedBoxMetadata().map(({boxText:e})=>e)}get boxImages(){return this.getNormalizedBoxMetadata().map(({boxImage:e})=>e)}get boxDoors(){return this.getNormalizedBoxMetadata().map(({boxDoor:e})=>e).filter(e=>e!=null)}get boxTypes(){return this.getNormalizedBoxMetadata().map(({boxType:e})=>e)}get unlockStars(){return this.getNormalizedBoxMetadata().map(({unlockStars:e})=>e)}get supports(){return this.getNormalizedBoxMetadata().map(({support:e})=>e)}get showEarth(){return this.getNormalizedBoxMetadata().map(({showEarth:e})=>e)}get levelBackgroundIds(){return this.getNormalizedBoxMetadata().map(({levelBackgroundId:e})=>e).filter(e=>e!=null)}get levelOverlayIds(){return this.getNormalizedBoxMetadata().map(({levelOverlayId:e})=>e).filter(e=>e!=null)}get levelLabels(){return this.getNormalizedBoxMetadata().map(({levelLabel:e})=>e)}};let kn=function(e){return e[e.LevelWon=0]=`LevelWon`,e[e.LevelLost=1]=`LevelLost`,e[e.OmNomClicked=2]=`OmNomClicked`,e[e.DrawingClicked=3]=`DrawingClicked`,e[e.StarCountChanged=4]=`StarCountChanged`,e[e.ControllerActivated=5]=`ControllerActivated`,e[e.ControllerDeactivateRequested=6]=`ControllerDeactivateRequested`,e[e.ControllerDeactivated=7]=`ControllerDeactivated`,e[e.ControllerPaused=8]=`ControllerPaused`,e[e.ControllerUnpaused=9]=`ControllerUnpaused`,e[e.ControllerViewHidden=10]=`ControllerViewHidden`,e[e.ControllerViewShow=11]=`ControllerViewShow`,e[e.LanguageChanged=12]=`LanguageChanged`,e[e.LanguageFontLoaded=13]=`LanguageFontLoaded`,e[e.ShowOptionsPage=14]=`ShowOptionsPage`,e[e.LoadIntroVideo=15]=`LoadIntroVideo`,e[e.Share=16]=`Share`,e[e.ShowOptions=17]=`ShowOptions`,e[e.EnableGame=18]=`EnableGame`,e[e.DisableGame=19]=`DisableGame`,e[e.SetPaidBoxes=20]=`SetPaidBoxes`,e[e.AppInit=21]=`AppInit`,e[e.AppDomReady=22]=`AppDomReady`,e[e.AppRun=23]=`AppRun`,e[e.PurchaseBoxesPrompt=24]=`PurchaseBoxesPrompt`,e[e.PauseGame=25]=`PauseGame`,e[e.AchievementManager=26]=`AchievementManager`,e[e.UpdateBoxScore=27]=`UpdateBoxScore`,e[e.SignIn=28]=`SignIn`,e[e.SignOut=29]=`SignOut`,e[e.UpdateCandyScroller=30]=`UpdateCandyScroller`,e[e.UpdateVisibleBoxes=31]=`UpdateVisibleBoxes`,e[e.SelectedBoxChanged=32]=`SelectedBoxChanged`,e[e.UserIdChanged=33]=`UserIdChanged`,e[e.RoamingSettingProvider=34]=`RoamingSettingProvider`,e[e.RoamingDataChanged=35]=`RoamingDataChanged`,e[e.BoxesUnlocked=36]=`BoxesUnlocked`,e[e.PreloaderProgress=37]=`PreloaderProgress`,e}({});var j=new class{subscriptions=new Map;ChannelId=kn;subscribe(e,t){if(typeof t!=`function`)throw TypeError(`PubSub.subscribe requires a callback function`);let n=Object.freeze({name:e,callback:t}),r=this.subscriptions.get(e);return r?r.push(t):this.subscriptions.set(e,[t]),n}unsubscribe(e){if(!e)return;let t=Array.isArray(e)?{name:e[0],callback:e[1]}:e,n=t.name??void 0,r=t.callback??void 0;if(typeof n!=`number`||typeof r!=`function`)return;let i=n,a=this.subscriptions.get(i);if(a){for(let e=a.length-1;e>=0;e--)if(a[e]===r){a.splice(e,1),a.length===0&&this.subscriptions.delete(i);break}}}publish(e,...t){let n=this.subscriptions.get(e);if(!n||n.length===0)return;let r=n.slice();for(let e of r)e.apply(this,t)}clearAll(){this.subscriptions.clear()}getAll(){return this.subscriptions}},M=new class e{static STORAGE_KEY=`ctr-js-data`;editionPrefix;prefix;settingCache;constructor(){this.editionPrefix=A.settingPrefix||``,this.prefix=this.editionPrefix,this.settingCache={},j.subscribe(j.ChannelId.UserIdChanged,e=>{let t=typeof e==`string`?e:``;this.prefix=t?`${t}-${this.editionPrefix}`:this.editionPrefix}),this.migrateOldData()}migrateOldData(){if(!window.localStorage||localStorage.getItem(e.STORAGE_KEY))return;let t={},n=[];for(let r=0;r<localStorage.length;r++){let i=localStorage.key(r);i&&i!==e.STORAGE_KEY&&(t[i]=localStorage.getItem(i),n.push(i))}Object.keys(t).length>0?(localStorage.setItem(e.STORAGE_KEY,JSON.stringify(t)),n.forEach(e=>localStorage.removeItem(e))):localStorage.setItem(e.STORAGE_KEY,JSON.stringify({}))}getAllData(){if(!window.localStorage)return{};try{let t=localStorage.getItem(e.STORAGE_KEY);return t?JSON.parse(t):{}}catch(e){return console.error(`Error parsing localStorage data:`,e),{}}}saveAllData(t){if(window.localStorage)try{localStorage.setItem(e.STORAGE_KEY,JSON.stringify(t))}catch(e){console.error(`Error saving localStorage data:`,e)}}get(e){return window.localStorage?e in this.settingCache?this.settingCache[e]??null:this.getAllData()[this.prefix+e]??null:null}set(e,t){if(!window.localStorage)return;let n=this.getAllData(),r=this.prefix+e;if(t==null)delete this.settingCache[e],delete n[r];else{let i=t.toString();this.settingCache[e]=i,n[r]=i}this.saveAllData(n)}remove(e){if(!window.localStorage)return;delete this.settingCache[e];let t=this.getAllData();delete t[this.prefix+e],this.saveAllData(t)}getBoolOrDefault(e,t){let n=this.get(e);return n==null?t:n===`true`}getIntOrDefault(e,t){let n=this.get(e);return n==null?t:parseInt(n,10)}},An=(()=>{let e={},t=(location.search.substring(1)||``).split(`&`),n=e=>decodeURIComponent(e.replace(/\+/g,` `));for(let r=0,i=t.length;r<i;r++){let i=t[r]?.split(`=`);i&&i.length>1&&i[0]&&i[1]&&(e[n(i[0])]=n(i[1]))}return e})(),N=class e{static#params=An;static#urlContains(e){return window.location.href.toLowerCase().includes(e.toLowerCase())}static#getInt(t){let n=e.#params[t];return n==null||n===``?null:parseInt(n,10)}static#getFlag(t){return e.#urlContains(`${t}=true`)}static lang=e.#params.lang;static showBoxBackgrounds=e.#getFlag(`boxBackgrounds`);static showFrameRate=!!e.#getFlag(`showFrameRate`);static forceHtml5Audio=e.#getFlag(`html5audio`);static unlockAllBoxes=e.#getFlag(`unlockAllBoxes`)?!0:void 0;static forcePinnedBox=!!(e.unlockAllBoxes||e.#getFlag(`enablePinnedBox`));static createScoresForBox=e.#getInt(`createScoresForBox`)??void 0;static minFps=e.#getInt(`minFps`);static box=e.#getInt(`box`);static level=e.#getInt(`level`)},jn=new class{getDefaultLangId(){return O.EN}},Mn={MUSIC:`music`,SOUND:`sound`,CLICK_TO_CUT:`clickToCut`,IS_HD:`isHD`,LANGUAGE:`language`},P={music:!0,sound:!0,clickToCut:!1},F=class{static SettingKeys=Mn;static showMenu=!0;static disableTextSelection=!0;static fpsEnabled=N.showFrameRate;static showGreeting=!0;static getMusicEnabled(){return M.getBoolOrDefault(this.SettingKeys.MUSIC,P.music)??P.music}static setMusicEnabled(e){M.set(this.SettingKeys.MUSIC,e.toString())}static getSoundEnabled(){return M.getBoolOrDefault(this.SettingKeys.SOUND,P.sound)??P.sound}static setSoundEnabled(e){M.set(this.SettingKeys.SOUND,e.toString())}static getClickToCut(){return M.getBoolOrDefault(this.SettingKeys.CLICK_TO_CUT,P.clickToCut)??P.clickToCut}static setClickToCut(e){M.set(this.SettingKeys.CLICK_TO_CUT,e.toString())}static getLangId(){if(N.lang){let e=O.fromString(N.lang);if(e!=null)return e}let e=M.getIntOrDefault(this.SettingKeys.LANGUAGE,null);return e??(e=jn.getDefaultLangId(),e??=O.EN),e}static setLangId(e){M.set(this.SettingKeys.LANGUAGE,e)}static getIsHD(){return M.getBoolOrDefault(this.SettingKeys.IS_HD,null)}static setIsHD(e){M.set(this.SettingKeys.IS_HD,e.toString())}static clear(){M.remove(this.SettingKeys.IS_HD)}},Nn={VIDEO_WIDTH:1280,CANVAS_WIDTH:2560,CANVAS_HEIGHT:1440,CANVAS_SCALE:1,UI_IMAGES_SCALE:2.5,UI_TEXT_SCALE:1,UI_WIDTH:2560,UI_HEIGHT:1440,BUNGEE_BEZIER_POINTS:3,PM:3,PMY:0,BUNGEE_REST_LEN:105,DEFAULT_BUNGEE_LINE_WIDTH:10,DEFAULT_BUNGEE_WIDTH:6,CLICK_TO_CUT_SEARCH_RADIUS:60,MOVER_SCALE:3,STAR_RADIUS:42,MOUTH_OPEN_RADIUS:200,OUT_OF_SCREEN_ADJUSTMENT_BOTTOM:400,OUT_OF_SCREEN_ADJUSTMENT_TOP:-400,STAR_DEFAULT_BB:new y(22,20,30,30),STAR_BB:new y(70,64,82,82),TARGET_BB:new y(264,350,108,2),TARGET2_BB:new y(192,278,108,2),TUTORIAL_HAND_TARGET_X_1:385,TUTORIAL_HAND_TARGET_X_2:700,BUBBLE_SIZE:85,BUBBLE_RADIUS:160,BUBBLE_TOUCH_OFFSET:60,BUBBLE_TOUCH_SIZE:200,BUBBLE_BB:new y(48,48,152,152),BUBBLE_IMPULSE_Y:-35,BUBBLE_IMPULSE_RD:14,STAR_SPIKE_RADIUS:15,BOUNCER_RADIUS:40,BOUNCER_MAX_MOVEMENT:680,LANTERN_CAPTURE_RADIUS:82,LANTERN_TOUCH_RADIUS:85,PUMP_POWER_RADIUS:624,PUMP_BB:new y(250,250,300,300),PUMP_DIRT_OFFSET:100,CANDY_BUBBLE_TUTORIAL_LIMIT_Y:300,CANDY_BUBBLE_TUTORIAL_LIMIT_X:1400,CANDY_BB:new y(142,157,112,104),CANDY_LR_BB:new y(155,176,88,76),GRAB_RADIUS_ALPHA:1,GRAB_WHEEL_RADIUS:110,GRAB_WHEEL_MAX_ROTATION:5.625,GRAB_WHEEL_SCALE_DIVISOR:1400,GRAB_ROPE_ROLL_MAX_LENGTH:1650,GRAB_MOVE_BG_WIDTH:142,GRAB_MOVE_BG_X_OFFSET:74,GRAB_MOVE_RADIUS:65,SPIDER_SPEED:117,SOCK_LIGHT_Y:270,SOCK_WIDTH:140,SOCK_ROTATION_Y_OFFSET:15,STAR_SOCK_RADIUS:40,SOCK_TELEPORT_Y:-16,POLLEN_MIN_DISTANCE:44,POLLEN_MAX_OFFSET:4,RC_CONTROLLER_RADIUS:90,IGNORE_TOUCHES_DISTANCE:100,PREVIEW_CAMERA_SPEED:800,PREVIEW_CAMERA_SPEED2:400,MAX_PREVIEW_CAMERA_SPEED:1e3,MIN_PREVIEW_CAMERA_SPEED:300,CAMERA_SPEED_THRESHOLD:5500,CAMERA_SPEED:14,CUT_MAX_SIZE:12,PHYSICS_SPEED_MULTIPLIER:1.4},Pn=(e,t)=>{let n=t,r=n.CANVAS_SCALE;if(n.BUNGEE_REST_LEN=e.BUNGEE_REST_LEN*r,n.MOVER_SCALE=e.MOVER_SCALE*r,n.STAR_RADIUS=e.STAR_RADIUS*r,n.MOUTH_OPEN_RADIUS=e.MOUTH_OPEN_RADIUS*r,n.OUT_OF_SCREEN_ADJUSTMENT_TOP=e.OUT_OF_SCREEN_ADJUSTMENT_TOP*r,n.OUT_OF_SCREEN_ADJUSTMENT_BOTTOM=e.OUT_OF_SCREEN_ADJUSTMENT_BOTTOM*r,n.CLICK_TO_CUT_SEARCH_RADIUS=e.CLICK_TO_CUT_SEARCH_RADIUS*r,n.TARGET_BB=y.scaleCopy(e.TARGET_BB,r),n.TARGET2_BB=y.scaleCopy(e.TARGET2_BB,r),n.TUTORIAL_HAND_TARGET_X_1=e.TUTORIAL_HAND_TARGET_X_1*r,n.TUTORIAL_HAND_TARGET_X_2=e.TUTORIAL_HAND_TARGET_X_2*r,n.BUBBLE_SIZE=e.BUBBLE_SIZE*r,n.BUBBLE_TOUCH_OFFSET=e.BUBBLE_TOUCH_OFFSET*r,n.BUBBLE_TOUCH_SIZE=e.BUBBLE_TOUCH_SIZE*r,n.BUBBLE_BB=y.scaleCopy(e.BUBBLE_BB,r),n.BUBBLE_RADIUS=e.BUBBLE_RADIUS*r,n.STAR_SPIKE_RADIUS=e.STAR_SPIKE_RADIUS*r,n.STAR_BB=y.scaleCopy(e.STAR_BB,r),n.STAR_DEFAULT_BB=y.scaleCopy(e.STAR_DEFAULT_BB,r),n.BOUNCER_RADIUS=e.BOUNCER_RADIUS*r,n.LANTERN_CAPTURE_RADIUS=e.LANTERN_CAPTURE_RADIUS*r,n.LANTERN_TOUCH_RADIUS=e.LANTERN_TOUCH_RADIUS*r,e.PUMP_POWER_RADIUS!==void 0){let t=e.PUMP_POWER_RADIUS*r;n.PUMP_POWER_RADIUS=n.PUMP_POWER_RADIUS??t}return n.PUMP_BB=y.scaleCopy(e.PUMP_BB,r),n.PUMP_DIRT_OFFSET=e.PUMP_DIRT_OFFSET*r,n.CANDY_BB=y.scaleCopy(e.CANDY_BB,r),n.CANDY_LR_BB=y.scaleCopy(e.CANDY_LR_BB,r),n.CANDY_BUBBLE_TUTORIAL_LIMIT_Y=e.CANDY_BUBBLE_TUTORIAL_LIMIT_Y*r,n.CANDY_BUBBLE_TUTORIAL_LIMIT_X=e.CANDY_BUBBLE_TUTORIAL_LIMIT_X*r,n.IGNORE_TOUCHES_DISTANCE=e.IGNORE_TOUCHES_DISTANCE*r,n.PREVIEW_CAMERA_SPEED=e.PREVIEW_CAMERA_SPEED*r,n.PREVIEW_CAMERA_SPEED2=e.PREVIEW_CAMERA_SPEED2*r,n.MAX_PREVIEW_CAMERA_SPEED=e.MAX_PREVIEW_CAMERA_SPEED*r,n.MIN_PREVIEW_CAMERA_SPEED=e.MIN_PREVIEW_CAMERA_SPEED*r,n.CAMERA_SPEED_THRESHOLD=e.CAMERA_SPEED_THRESHOLD*r,n.CAMERA_SPEED=e.CAMERA_SPEED*r,n.GRAB_WHEEL_MAX_ROTATION=e.GRAB_WHEEL_MAX_ROTATION*r,n.GRAB_WHEEL_SCALE_DIVISOR=e.GRAB_WHEEL_SCALE_DIVISOR*r,n.GRAB_WHEEL_RADIUS=e.GRAB_WHEEL_RADIUS*r,n.GRAB_ROPE_ROLL_MAX_LENGTH=e.GRAB_ROPE_ROLL_MAX_LENGTH*r,n.GRAB_MOVE_BG_WIDTH=e.GRAB_MOVE_BG_WIDTH*r,n.GRAB_MOVE_BG_X_OFFSET=e.GRAB_MOVE_BG_X_OFFSET*r,n.GRAB_MOVE_RADIUS=e.GRAB_MOVE_RADIUS*r,n.SPIDER_SPEED=e.SPIDER_SPEED*r,n.POLLEN_MIN_DISTANCE=e.POLLEN_MIN_DISTANCE*r,n.POLLEN_MAX_OFFSET=e.POLLEN_MAX_OFFSET*r,n.RC_CONTROLLER_RADIUS=e.RC_CONTROLLER_RADIUS*r,n.SOCK_LIGHT_Y=e.SOCK_LIGHT_Y*r,n.SOCK_WIDTH=e.SOCK_WIDTH*r,n.SOCK_ROTATION_Y_OFFSET=e.SOCK_ROTATION_Y_OFFSET*r,n.STAR_SOCK_RADIUS=e.STAR_SOCK_RADIUS*r,n.SOCK_TELEPORT_Y=e.SOCK_TELEPORT_Y*r,n.CUT_MAX_SIZE=e.CUT_MAX_SIZE*r,n.uiScaledNumber=e=>Math.round(e*n.UI_IMAGES_SCALE),n},Fn=e=>Pn(Nn,e),In={VIDEO_WIDTH:768,CANVAS_WIDTH:480,CANVAS_HEIGHT:320,CANVAS_SCALE:.1875,UI_IMAGES_SCALE:.46875,UI_TEXT_SCALE:1,UI_WIDTH:480,UI_HEIGHT:320,BUNGEE_BEZIER_POINTS:2,DEFAULT_BUNGEE_LINE_WIDTH:2,DEFAULT_BUNGEE_WIDTH:2,PM:.5625,PMY:0,GRAB_RADIUS_ALPHA:.8,BUBBLE_IMPULSE_Y:-9,BUBBLE_IMPULSE_RD:22,BOUNCER_MAX_MOVEMENT:158,PHYSICS_SPEED_MULTIPLIER:.65};window.resolution=In;var Ln={VIDEO_WIDTH:1024,CANVAS_WIDTH:1024,CANVAS_HEIGHT:576,CANVAS_SCALE:.4,UI_IMAGES_SCALE:1,UI_TEXT_SCALE:1,UI_WIDTH:1024,UI_HEIGHT:576,BUNGEE_BEZIER_POINTS:3,DEFAULT_BUNGEE_LINE_WIDTH:3.5,DEFAULT_BUNGEE_WIDTH:2,PM:1.2,PMY:0,GRAB_RADIUS_ALPHA:.8,BUBBLE_IMPULSE_Y:-17,BUBBLE_IMPULSE_RD:20,BOUNCER_MAX_MOVEMENT:336,PHYSICS_SPEED_MULTIPLIER:.925};window.resolution=Ln;var Rn={VIDEO_WIDTH:1280,CANVAS_WIDTH:1920,CANVAS_HEIGHT:1080,CANVAS_SCALE:.75,UI_IMAGES_SCALE:1.875,UI_TEXT_SCALE:1,UI_WIDTH:1920,UI_HEIGHT:1080,BUNGEE_BEZIER_POINTS:3,DEFAULT_BUNGEE_LINE_WIDTH:6,DEFAULT_BUNGEE_WIDTH:5,PM:2.25,PMY:0,GRAB_RADIUS_ALPHA:.8,BUBBLE_IMPULSE_Y:-23,BUBBLE_IMPULSE_RD:23,BOUNCER_MAX_MOVEMENT:510,PUMP_POWER_RADIUS:475,PHYSICS_SPEED_MULTIPLIER:1.05};window.resolution=Rn;var zn=[{profile:Rn,isHd:!0,minWidth:1600,minHeight:900}],Bn=()=>typeof window>`u`?{width:1920,height:1080}:{width:window.innerWidth,height:window.innerHeight},Vn=(()=>{let{width:e,height:t}=Bn();for(let n of zn)if(e>=n.minWidth&&t>=n.minHeight)return n;return zn[zn.length-1]})(),Hn=Fn(Vn.profile);F.setIsHD(Vn.isHd);var I=Hn,L=class{static debug(e){}static alert(e){}},Un=class e extends re{texture;quadToDraw;restoreCutTransparency=!1;drawSizeIncrement;drawPosIncrement;initTexture(e){this.texture=e,this.restoreCutTransparency=!1,this.texture.rects.length>0?this.setTextureQuad(0):this.setDrawFullImage()}getTexture(e){let t=w[e];if(!t)throw Error(`ResEntry not found for resId: ${e}`);let n=t.texture;if(!n)throw L.debug(`Image not loaded: ${t.path}`),Error(`Texture not loaded for: ${t.path}`);return n}initTextureWithId(e){this.resId=e,this.initTexture(this.getTexture(e))}setTextureQuad(e){if(this.quadToDraw=e,!this.restoreCutTransparency){let t=this.texture.rects[e];if(!t)return;this.width=t.w,this.height=t.h}}setDrawFullImage(){this.quadToDraw=r.UNDEFINED,this.width=this.texture.imageWidth,this.height=this.texture.imageHeight}doRestoreCutTransparency(){this.texture.preCutSize.x!==o.undefined.x&&(this.restoreCutTransparency=!0,this.width=this.texture.preCutSize.x,this.height=this.texture.preCutSize.y)}draw(){if(this.preDraw(),this.color.a!==0&&this.texture&&i.context&&this.texture.image)if(this.quadToDraw===r.UNDEFINED){let e=Math.round(this.drawX),t=Math.round(this.drawY);i.context.drawImage(this.texture.image,e,t)}else this.quadToDraw!==void 0&&this.drawQuad(this.quadToDraw);this.postDraw()}drawQuad(e){if(!i.context||!this.texture.image)return;let t=this.texture.rects[e];if(!t)return;let n=t.w,r=t.h,a=this.drawX,o=this.drawY;if(this.restoreCutTransparency){let t=this.texture.offsets[e];t&&(a+=t.x,o+=t.y,n+=this.texture.adjustmentMaxX,r+=this.texture.adjustmentMaxY)}let s=t.x,c=t.y,l=n,u=r;t.x!==0&&t.y!==0&&(--s,--c,l+=2,u+=2),this.drawSizeIncrement?(n=Math.round(n/this.drawSizeIncrement)*this.drawSizeIncrement,r=Math.round(r/this.drawSizeIncrement)*this.drawSizeIncrement):(n=Math.ceil(n),r=Math.ceil(r)),this.drawPosIncrement?(a=Math.round(a/this.drawPosIncrement)*this.drawPosIncrement,o=Math.round(o/this.drawPosIncrement)*this.drawPosIncrement):(a=Math.round(a),o=Math.round(o));let d=a,f=o,p=n,m=r;t.x!==0&&t.y!==0&&(--d,--f,p+=2,m+=2);let h=this.texture.imageWidth,g=this.texture.imageHeight;s<0&&(l+=s,s=0),c<0&&(u+=c,c=0),s+l>h&&(l=h-s),c+u>g&&(u=g-c),i.context.drawImage(this.texture.image,s,c,l,u,d,f,p,m)}drawTiled(e,t,n,a,o){let s=i.context;if(!s||!this.texture.image)return;let c=0,l=0,u,d,f,p,m,h;if(e===r.UNDEFINED)u=this.texture.imageWidth,d=this.texture.imageHeight;else{let t=this.texture.rects[e];if(!t)return;c=t.x,l=t.y,u=t.w,d=t.h}let g=u|0,_=d|0,v,ee;for(p=0;p<o;){for(f=0;f<a;)m=a-f,m>u&&(m=u),v=Math.ceil(m),h=o-p,h>d&&(h=d),ee=Math.ceil(h),s.drawImage(this.texture.image,c|0,l|0,v,ee,t+f|0,n+p|0,v,ee),f+=g;p+=_}}pointInDrawQuad(e,t){if(this.quadToDraw===r.UNDEFINED)return y.pointInRect(e,t,this.drawX,this.drawY,this.texture.width,this.texture.height);if(this.quadToDraw!==void 0){let n=this.texture.rects[this.quadToDraw];if(!n)return!1;let r=this.drawX,i=this.drawY;if(this.restoreCutTransparency){let e=this.texture.offsets[this.quadToDraw];e&&(r+=e.x,i+=e.y)}return y.pointInRect(e,t,r,i,n.w,n.h)}return!1}handleAction(e){if(super.handleAction(e))return!0;if(e.actionName===a.SET_DRAWQUAD)this.setTextureQuad(e.actionParam);else return!1;return!0}setElementPositionWithOffset(e,t){let n=this.getTexture(e).offsets[t];n&&(this.x=n.x,this.y=n.y)}setElementPositionWithCenter(e,t){let n=this.getTexture(e),r=n.rects[t],i=n.offsets[t];!r||!i||(this.x=i.x+r.w/2,this.y=i.y+r.h/2)}static create(t,n){let r=new e;return r.initTextureWithId(t),n!=null&&r.setTextureQuad(n),r}},Wn=class extends Un{chars;charOffset;lineOffset;spaceWidth;kerning;constructor(){super(),this.chars=``,this.charOffset=0,this.lineOffset=0,this.spaceWidth=0,this.kerning=null}initWithVariableSizeChars(e,t,n){this.chars=e,this.initTexture(t),this.kerning=n}setOffsets(e,t,n){this.charOffset=e,this.lineOffset=t,this.spaceWidth=n}getCharQuad(e){let t=this.chars.indexOf(e);return t>=0?t:(L.alert(`Char not found in font: ${e}`),this.chars.indexOf(`.`))}drawQuadWOBind(e,t,n){let r=this.texture.rects[e];if(!r||!this.texture.image||!i.context)return;let a=Math.ceil(r.w),o=Math.ceil(r.h);i.context.drawImage(this.texture.image,r.x|0,r.y|0,a,o,t|0,n|0,a,o)}stringWidth(e){let t=0,n=e.length,r=0;for(let i=0;i<n;i++){r=this.getCharOffset(e,i);let n=e[i];if(n)if(n===` `)t+=this.spaceWidth+r;else{let e=this.getCharQuad(n),i=this.texture.rects[e];if(!i)continue;let a=i.w;t+=a+r}}return t-=r,Math.ceil(t)}fontHeight(){let e=this.texture.rects[0];return e?e.h:0}getCharOffset(e,t){if(t===e.length-1)return 0;if(!this.kerning)return this.charOffset;let n=e[t],r=e[t+1];if(!n||!r)return this.charOffset;let i=n+r;return this.kerning[i]??this.charOffset}},Gn=class{tlX;tlY;trX;trY;blX;blY;brX;brY;constructor(e,t,n,r){let i=e+n,a=t+r;this.tlX=e,this.tlY=t,this.trX=i,this.trY=t,this.blX=e,this.blY=a,this.brX=i,this.brY=a}},R=e=>typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement,Kn=e=>{if(!e||typeof window>`u`||!window.getComputedStyle)return{width:0,height:0};try{let t=window.getComputedStyle(e);return{width:parseInt(t.width,10)||0,height:parseInt(t.height,10)||0}}catch(e){return window.console?.warn?.(`Failed to get computed style for image`,e),{width:0,height:0}}},qn=e=>{if(!e)return{drawable:null,width:0,height:0,sourceUrl:``};if(typeof e==`object`&&`drawable`in e){let t=e.drawable,n=R(t)?t.naturalWidth:t?.width,r=R(t)?t.naturalHeight:t?.height;return{drawable:t,width:e.width||n||0,height:e.height||r||0,sourceUrl:e.sourceUrl||(R(t)?t.src:``)||``}}let t=e,n=R(t)?t.naturalWidth:t?.width,r=R(t)?t.naturalHeight:t?.height;return{drawable:t,width:n||0,height:r||0,sourceUrl:R(t)?t.src:``}},Jn=class{image;width=0;height=0;imageWidth;imageHeight;rects;offsets;adjustmentMaxX;adjustmentMaxY;preCutSize;quads=[];imageSrc;_invWidth;_invHeight;constructor(e){let{drawable:t,width:n,height:r,sourceUrl:i}=qn(e);this.image=t,this.rects=[],this.offsets=[],this.preCutSize=o.newUndefined(),this.imageSrc=i;let a=n,s=r;if((!a||!s)&&R(t)){let e=Kn(t);a||=e.width,s||=e.height}this.imageWidth=a||0,this.imageHeight=s||0,this._invWidth=this.imageWidth>0?1/this.imageWidth:0,this._invHeight=this.imageHeight>0?1/this.imageHeight:0,this.adjustmentMaxX=0,this.adjustmentMaxY=0}addRect(e){this.rects.push(e),this.offsets.push(new o(0,0))}setOffset(e,t,n){let r=this.offsets[e];r&&(r.x=t,r.y=n)}getCoordinates(e){return new Gn(this._invWidth*e.x,this._invHeight*e.y,this._invWidth*e.w,this._invHeight*e.h)}},Yn=e=>e?Array.isArray(e)?e.map((e,t)=>({name:e.filename??e.name??String(t),data:e})):Object.keys(e).sort().map(t=>({name:t,data:e[t]})):[],Xn=(e,t)=>{if(!t||t.length===0)return e;let n=new Map(t.map((e,t)=>[e,t]));return e.slice().sort((e,t)=>{let r=n.get(e.name)??2**53-1,i=n.get(t.name)??2**53-1;return r===i?e.name.localeCompare(t.name):r-i})};const Zn=(e,t={})=>{let{existingInfo:n={},offsetNormalization:r,frameOrder:i}=t;if(!e||!e.frames)return n;let a=null;Array.isArray(e.frames)&&(a=e.frames.map(e=>e.filename??e.name).filter(e=>typeof e==`string`));let s=Yn(e.frames),c=i||a;if(c&&(s=Xn(s,c)),s.length===0)return n;let l={...n,rects:[],frameKeys:[],frameIndexByName:{}},u=[],d=[],f=[],p=[],m=!1,h=l.preCutWidth??0,g=l.preCutHeight??0;if(s.forEach((e,t)=>{let n=e.data,r=n.frame;if(!r)return;n.rotated&&console.warn(`TexturePacker frame "${e.name}" is rotated — not supported.`),u.push(new y(r.x,r.y,r.w,r.h)),f.push({w:r.w,h:r.h});let i=n.spriteSourceSize;if(i){let e=new o(i.x||0,i.y||0);d.push(e),(e.x!==0||e.y!==0)&&(m=!0)}else d.push(new o(0,0));let a=n.sourceSize;a&&(h=Math.max(h,a.w||0),g=Math.max(g,a.h||0)),p.push(e.name??String(t))}),l.rects=u.map(e=>({x:e.x,y:e.y,w:e.w,h:e.h})),r===`center`){let e=f.map(e=>new o(Math.round(((h||e.w)-e.w)/2),Math.round(((g||e.h)-e.h)/2)));d.splice(0,d.length,...e),m=e.some(e=>e.x||e.y)}return d.length&&m&&(l.offsets=d.map(e=>({x:e.x,y:e.y}))),h&&g&&(l.preCutWidth=h,l.preCutHeight=g),l.frameKeys=p,l.frameIndexByName=p.reduce((e,t,n)=>(e[t]=n,e),{}),m&&(l.adjustmentMaxX=l.adjustmentMaxX??1,l.adjustmentMaxY=l.adjustmentMaxY??1),l.atlasMeta=e.meta||null,l};var Qn=class{static onResourceLoaded(e,t){let n=w[e];n&&(n.pendingImage=t,this._finalizeTextureResource(e))}static onAtlasLoaded(e,t){let n=w[e];n&&(n.info=this._parseAtlasForResource(n,t),n._atlasFailed=!1,this._finalizeTextureResource(e))}static onAtlasError(e,t){let n=w[e];n&&(globalThis.console?.error?.(`Failed to load atlas for resource`,e,t),n._atlasFailed=!0,this._finalizeTextureResource(e))}static _parseAtlasForResource(e,t){let n=e.atlasFormat||`texture-packer`,r=e.info;switch(n){case`texture-packer`:return Zn(t,{existingInfo:r,frameOrder:e.frameOrder,offsetNormalization:e.offsetNormalization});default:return globalThis.console?.warn?.(`Unsupported atlas format`,n),r||{}}}static _finalizeTextureResource(e){let t=w[e];if(!t||!t.pendingImage||t.atlasPath&&!t.info&&!t._atlasFailed)return;let n=t.pendingImage;switch(delete t.pendingImage,t.type){case S.IMAGE:t.texture=new Jn(n),this.setQuads(t);break;case S.FONT:if(t.texture=new Jn(n),this.setQuads(t),t.info&&`chars`in t.info){let e=t.info;if(typeof e.chars==`string`&&typeof e.charOffset==`number`&&typeof e.lineOffset==`number`&&typeof e.spaceWidth==`number`){let n=new Wn;n.initWithVariableSizeChars(e.chars,t.texture,e.kerning??null),n.setOffsets(e.charOffset,e.lineOffset,e.spaceWidth),t.font=n}}break}}static setQuads(e){if(!e||!e.texture)return;let t=e.texture,n=t.imageWidth,r=t.imageHeight,i=e.info||{},a=i.rects,s=i.offsets;if(t.preCutSize=o.newUndefined(),a){t.adjustmentMaxX=i.adjustmentMaxX?i.adjustmentMaxX:0,t.adjustmentMaxY=i.adjustmentMaxY?i.adjustmentMaxY:0;for(let e=0,i=a.length;e<i;e++){let i=a[e];if(!i||typeof i==`number`)continue;let o=new y(i.x,i.y,i.w,i.h);o.w+t.adjustmentMaxX>n&&(o.w=n-t.adjustmentMaxX),o.h+t.adjustmentMaxY>r&&(o.h=r-t.adjustmentMaxY),t.addRect(o)}if(s){let e=s.length,n;for(n=0;n<e;n++){let e=s[n];!e||typeof e==`number`||`x`in e&&`y`in e&&t.setOffset(n,e.x,e.y)}}i.preCutWidth&&i.preCutHeight&&(t.preCutSize.x=i.preCutWidth,t.preCutSize.y=i.preCutHeight)}}static getTexture(e){let t=w[e];return t?.texture?t.texture:(L.debug(`Image not yet loaded: ${t?.path}`),null)}static getFont(e){let t=w[e];return t?.font?t.font:(L.debug(`Font not yet loaded: ${t?.path}`),null)}};const $n=()=>{let e=[..._n];vn.scaleResourceInfos(e,I.CANVAS_SCALE);for(let t=0,n=e.length;t<n;t++){let n=e[t];if(n&&(delete n.originalRects,delete n.offsetAdjustments,n.id!==void 0)){let e=w[n.id];e&&(e.info=n)}}};var er=Qn,z=class{static fitToBoundaries(e,t,n){return Math.max(Math.min(e,n),t)}static sameSign(e,t){return e<0==t<0}static randomRange(e,t){return Math.floor(Math.random()*(t-e+1)+e)}static randomBool(){return Math.random()>.5}static randomMinus1to1(){return Math.random()*2-1}static maxOf4(e,t,n,i){return e>=t&&e>=n&&e>=i?e:t>=e&&t>=n&&t>=i?t:n>=t&&n>=e&&n>=i?n:i>=t&&i>=n&&i>=e?i:r.UNDEFINED}static minOf4(e,t,n,i){return e<=t&&e<=n&&e<=i?e:t<=e&&t<=n&&t<=i?t:n<=t&&n<=e&&n<=i?n:i<=t&&i<=n&&i<=e?i:r.UNDEFINED}static lineInLine(e,t,n,r,i,a,o,s){let c=i-e+o-n,l=a-t+s-r,u=n-e,d=r-t,f=o-i,p=s-a,m=d*f-p*u,h=f*l-p*c,g=u*l-d*c,_=Math.abs(m);return Math.abs(h)<=_&&Math.abs(g)<=_}static roundPrecision(e,t){let n=10**t;return Math.round(e*n)/n}static roundP2(e){return Math.round(e*100)/100}},tr=class{string;width;constructor(e,t){this.string=e,this.width=t}},nr=class e extends re{font;formattedStrings;align;wrapWidth;wrapLongWords;maxHeight;d;string;constructor(e){super(),this.font=e,this.formattedStrings=[],this.string=``,this.width=r.UNDEFINED,this.height=r.UNDEFINED,this.align=n.LEFT,this.d=new ue(e.texture),this.wrapLongWords=!1,this.maxHeight=r.UNDEFINED,this.wrapWidth=0}setString(e,t){this.string=e,t==null||t===r.UNDEFINED?this.wrapWidth=Math.ceil(this.font.stringWidth(e)):this.wrapWidth=Math.ceil(t),this.string&&(this.formatText(),this.updateDrawerValues())}updateDrawerValues(){let e=0,t=0,i=0,a=this.font.fontHeight(),o=this.font.getCharOffset(`..`,0),s=this.maxHeight===r.UNDEFINED?this.formattedStrings.length:Math.min(this.formattedStrings.length,this.maxHeight/a+this.font.lineOffset),c=s!==this.formattedStrings.length;for(let r=0;r<s;r++){let l=this.formattedStrings[r];if(!l)continue;let u=l.string,d=u.length;e=this.align===n.LEFT?0:this.align===n.HCENTER||this.align===n.CENTER?(this.wrapWidth-l.width)/2:this.wrapWidth-l.width;for(let n=0;n<d;n++){let a=u[n];if(a){if(a===` `)e+=this.font.spaceWidth+this.font.getCharOffset(u,n);else{let r=this.font.getCharQuad(a),o=this.font.texture.rects[r];if(!o)continue;let s=o.w;this.d.mapTextureQuad(r,Math.round(e),Math.round(t),i++),e+=s+this.font.getCharOffset(u,n)}if(c&&r===s-1){let r=this.font.getCharQuad(`.`),a=this.font.texture.rects[r];if(!a)continue;let s=a.w;if(n===d-1||n===d-2&&e+3*(s+o)+this.font.spaceWidth>this.wrapWidth){this.d.mapTextureQuad(r,Math.round(e),Math.round(t),i++),e+=s+o,this.d.mapTextureQuad(r,Math.round(e),Math.round(t),i++),e+=s+o,this.d.mapTextureQuad(r,Math.round(e),Math.round(t),i++),e+=s+o;break}}}}t+=a+this.font.lineOffset}this.formattedStrings.length<=1?(this.height=this.font.fontHeight(),this.width=e):(this.height=(this.font.fontHeight()+this.font.lineOffset)*this.formattedStrings.length-this.font.lineOffset,this.width=this.wrapWidth),this.maxHeight!==r.UNDEFINED&&(this.height=Math.min(this.height,this.maxHeight))}draw(){if(this.preDraw(),this.color.a!==0){let e=this.string.length,t=i.context;e>0&&t&&(t.translate(this.drawX,this.drawY),this.d.drawNumberOfQuads(e),t.translate(-this.drawX,-this.drawY))}this.postDraw()}formatText(){let e=[],t=this.string,n=t.length,r=0,i=0,a=0,o=0,s=0,c=0,l=0;for(;l<n;){let u=t[l++];if(!u)continue;if(u==` `||u==`
`)c+=a,s=l-1,a=0,i=l,u==` `&&(i--,a=this.font.spaceWidth+this.font.getCharOffset(t,l-1));else{let e=this.font.getCharQuad(u),n=this.font.texture.rects[e];if(!n)continue;let r=n.w;a+=r+this.font.getCharOffset(t,l-1)}let d=z.roundP2(c+a)>this.wrapWidth;if(this.wrapLongWords&&d&&s==o&&(c+=a,s=l,a=0,i=l),z.roundP2(c+a)>this.wrapWidth&&s!=o||u==`
`){for(e[r++]=o,e[r++]=s;i<n&&t[i]==` `;)i++,a-=this.font.spaceWidth;o=i,s=o,c=0}}a!=0&&(e[r++]=o,e[r++]=l);let u=r>>1;this.formattedStrings=[];for(let t=0;t<u;t++){let n=e[t<<1],r=e[(t<<1)+1];if(n===void 0||r===void 0)continue;let i=this.string.substring(n,r),a=new tr(i,this.font.stringWidth(i));this.formattedStrings.push(a)}}static drawSystem(e){let t=I.CANVAS_WIDTH/1024,n=ir(F.getLangId()),r=e.fontId===4?n.bigLineHeight:n.smallLineHeight,i=Math.round(r*t),a=Math.round(12*t),o=Math.round(12*t),s=e.canvas?e.img:document.createElement(`canvas`);s.width=e.width||e.maxScaleWidth||e.text.length*16*t,s.height=i+a+o;let c=(e.canvas?e.img:s).getContext(`2d`);if(!c)return e.img;c.clearRect(0,0,s.width,s.height);let l=s.width/2;e.alignment===1&&(l=0),ar(c,e);let u=c.measureText(e.text);if(e.text.indexOf(`
`)>=0||e.width&&u.width>e.width){let n=rr(c,e.text,e.width||0);s.height=i*n.length+a+o,c.clearRect(0,0,s.width,s.height),ar(c,e),e.alignment!==1&&(l=s.width/2);for(let r=0;r<n.length;++r){let o=n[r];if(!o)continue;let s=a+(r+1)*i-(i-Math.round(18*t));e.fontId!==5&&c.strokeText(o,l,s),c.fillText(o,l,s)}}else{(!e.width||!e.maxScaleWidth)&&(s.width=u.width+Math.round(5*t),c.clearRect(0,0,s.width,s.height),ar(c,e),e.alignment!==1&&(l=s.width/2));let n=a+i-(i-Math.round(18*t));e.fontId!==5&&c.strokeText(e.text,l,n),c.fillText(e.text,l,n)}if(e.canvas){if(e.img.style.paddingTop=`0px`,e.scale&&e.scale!==1){let t=e.img;t.style.width=`${s.width*e.scale}px`,t.style.height=`${s.height*e.scale}px`}}else{let t=e.img;t.src=s.toDataURL(`image/png`),t.style.paddingTop=`18px`,e.img.style.height=`auto`,e.img.style.width=`auto`}return e.img}static drawImg(t){let n=t.img;if(!n&&t.imgId){let e=document.getElementById(t.imgId);(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement)&&(n=e)}if(!n&&t.imgSel){let e=document.querySelector(t.imgSel);(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement)&&(n=e)}if(!n&&t.imgParentId){let e=document.getElementById(t.imgParentId);if(e){let r=e.querySelector(t.canvas?`canvas`:`img`);r||(r=document.createElement(t.canvas?`canvas`:`img`),e.insertBefore(r,e.firstChild)),n=r}}n||=new Image;let r=document.getElementById(`lang`);r&&r.classList.add(`lang-system`);let i={fontId:t.fontId,canvas:t.canvas,img:n,width:t.width,maxScaleWidth:t.maxScaleWidth,text:t.text.toString(),alignment:t.alignment,alpha:t.alpha??void 0};return e.drawSystem(i)}static drawSmall(t){return e.drawImg({...t,fontId:b.FNT_SMALL_FONT})}static drawBig(t){return e.drawImg({...t,fontId:b.FNT_BIG_FONT})}static drawBigNumbers(t){return e.drawImg({...t,fontId:b.FNT_FONT_NUMBERS_BIG})}},rr=(e,t,n)=>{let r=t.split(`
`),i=[];for(let t of r){if(!t){i.push(``);continue}if(t.includes(` `)){let r=t.split(` `),a=``;for(let t of r){if(!t)continue;let r=a?`${a} ${t}`:t;e.measureText(r).width>n&&a?(i.push(a),a=t):a=r}a&&i.push(a)}else{let r=``;for(let a of t){let t=r+a;e.measureText(t).width>n&&r?(i.push(r),r=a):r=t}r&&i.push(r)}}return i},ir=e=>{switch(e){case O.RU:return{family:`'Playpen Sans', sans-serif`,weight:`normal`,bigFontSize:26,smallFontSize:18,bigLineHeight:36,smallLineHeight:24};case O.KO:return{family:`'Cafe24 Dongdong', sans-serif`,weight:`normal`,bigFontSize:32,smallFontSize:18,bigLineHeight:38,smallLineHeight:26};case O.JA:return{family:`'MPLUSRounded1c-Medium', sans-serif`,weight:`normal`,bigFontSize:30,smallFontSize:18,bigLineHeight:38,smallLineHeight:26};case O.ZH:return{family:`'Huninn-Regular', sans-serif`,weight:`normal`,bigFontSize:30,smallFontSize:18,bigLineHeight:38,smallLineHeight:26};default:return{family:`'gooddognew', sans-serif`,weight:`normal`,bigFontSize:32,smallFontSize:22,bigLineHeight:38,smallLineHeight:28}}},ar=(e,t)=>{let n=t.fontId===5?`#000`:`#fff`;t.alignment!==1&&(e.textAlign=`center`),e.fillStyle=n;let r=I.CANVAS_WIDTH/1024,{family:i,weight:a,bigFontSize:o,smallFontSize:s}=ir(F.getLangId());t.fontId===4?e.font=`${a} ${Math.round(o*r)}px ${i}`:e.font=`${a} ${Math.round(s*r)}px ${i}`,t.fontId!==5&&(e.strokeStyle=`rgba(0,0,0,1)`,e.lineWidth=Math.round(3*r),e.shadowColor=`rgba(0,0,0,1)`,e.shadowOffsetX=Math.round(1*r),e.shadowOffsetY=Math.round(1*r),e.shadowBlur=0),t.alpha&&(e.globalAlpha=t.alpha)},B=nr,or=e=>{switch(F.getLangId()){case O.FR:return e.fr||e.en;case O.DE:return e.de||e.en;case O.RU:return e.ru||e.en;case O.ES:return e.es||e.en;case O.BR:return e.br||e.en;case O.CA:return e.ca||e.en;case O.IT:return e.it||e.en;case O.NL:return e.nl||e.en;case O.KO:return e.ko||e.en;case O.ZH:return e.zh||e.en;case O.JA:return e.ja||e.en;case O.EN:default:return e.en}},V=new class{boxText(e,t){let n=A.boxText[e];if(!n)return``;let r=or(n);return r&&t&&(r=`${e+1}. ${r}`),r}menuText(e){let t=bn.getMenuStrings();if(!t)return L.alert(`Menu strings not loaded yet`),``;for(let n of t)if(n.id===e)return or(n);return L.debug(`Missing menu string for id: ${e}`),``}getText(e){return or(e)}getCurrentId(){return F.getLangId()}},H={PLAY:0,OPTIONS:1,EXTRAS:2,SURVIVAL:3,FULL_VERSION:4,RESET:5,HELP:6,ABOUT:7,CREDITS:8,MUSIC_ON:9,MUSIC_OFF:10,SOUNDS_ON:11,SOUNDS_OFF:12,RESET_TEXT:13,LEVEL_CLEARED1:14,LEVEL_CLEARED2:15,LEVEL_CLEARED3:16,LEVEL_CLEARED4:17,LEVEL:18,TIME:19,STAR_BONUS:20,FINAL_SCORE:21,BEST_SCORE:22,SCORE:23,YES:24,NO:25,REPLAY:26,NEXT:27,MENU:28,LOADING:29,TOTAL_STARS:30,OK:31,UNLOCK_HINT:32,CANT_UNLOCK_TEXT1:33,CANT_UNLOCK_TEXT2:34,CANT_UNLOCK_TEXT3:35,GAME_FINISHED_TEXT:36,GAME_FINISHED_TEXT2:37,ACHIEVEMENT_GAINED:38,CONTINUE:39,SKIP_LEVEL:40,LEVEL_SELECT:41,MAIN_MENU:42,LETS_PLAY:43,MORE_CTR_FUN:44,SHARE:45,SHARE_DRAWING:46,SHARE_ELLIPSIS:47,FOUND_DRAWING:48,DRAG_TO_CUT:49,CLICK_TO_CUT:50,SHOW_ME:51,FREE_DOWNLOAD:52,SITE_DESC:53,SITE_TITLE:54,SITE_ACTION:55,LANGUAGE:56,RESET_HOLD_YES:57,RELOAD_SD:58,RELOAD_HD:59,EVERYTHING_OFF:60,SLOW_TITLE:61,SLOW_TEXT:62,CONGRATULATIONS:63,MUSIC:64,SOUNDS:65,LEADERBOARDS:66,ACHIEVEMENTS:67,ACHIEVEMENT_UNLOCKED:68,UPGRADE_TO_FULL:69,NAME:70,AND_TEMPLATE:71,BUY_FULL_GAME:72,SETTINGS:200,PRIVACY:201,HOLIDAY_LEVELS_UNAVAILABLE_TITLE:202,HOLIDAY_LEVELS_UNAVAILABLE_TEXT:203,CANDIES_BTN:204,ROPE_SKINS_BTN:205,MECHANICAL_LABEL:206},U=class e{static customOptions=!1;static ENABLE_ANALYTICS=!1;static ENABLE_ZOOM=!1;static ZOOM_BOX_CANVAS=!1;static imageBaseUrl=`images/`;static resolutionBaseUrl=`images/${I.UI_WIDTH}/`;static uiImageBaseUrl=`images/${I.UI_WIDTH}/ui/`;static boxImageBaseUrl=`images/${I.UI_WIDTH}/${A.boxDirectory||`ui/`}`;static audioBaseUrl=`audio/`;static videoBaseUrl=`video/`;static getAudioExtension(){return`.ogg`}static getVideoExtension(){return`.mp4`}static disableSlowWarning=!1;static getDrawingBaseUrl(){return`${`${window.location.protocol}//${window.location.host}`}/images/${I.UI_WIDTH}/ui/`}static getScoreImageBaseUrl(){return`${`${window.location.protocol}//${window.location.host}`}/images/scores/`}static setSoundButtonChange(e,t){e?.addEventListener(`click`,t)}static setMusicButtonChange(e,t){e?.addEventListener(`click`,t)}static updateSoundOption(e,t){e?.classList.toggle(`disabled`,!t)}static updateMusicOption(e,t){e?.classList.toggle(`disabled`,!t)}static toggleLangUI(e){let t=document.getElementById(`langBtn`);t&&(t.style.display=e?``:`none`)}static setLangOptionClick(e){let t=document.getElementById(`langBtn`);t&&t.addEventListener(`click`,()=>{e(null)})}static updateLangSetting(){let t=document.getElementById(`langBtn`),n=document.getElementById(`flag`);t&&e.setOptionText(t,`${V.menuText(H.LANGUAGE)}:`),n&&n.offsetTop}static setCutOptionClick(e){let t=document.getElementById(`cutBtn`);t&&t.addEventListener(`click`,e)}static updateCutSetting(e){let t=document.getElementById(`cutBtn`),r=320*I.CANVAS_SCALE,i=.5*I.UI_TEXT_SCALE,a=n.HCENTER,o=document.getElementById(`dragText`);(o instanceof HTMLImageElement||o instanceof HTMLCanvasElement)&&B.drawSmall({text:V.menuText(H.DRAG_TO_CUT),width:r,img:o,canvas:!0,scale:i,alignment:a});let s=document.getElementById(`cutText`);(s instanceof HTMLImageElement||s instanceof HTMLCanvasElement)&&B.drawSmall({text:V.menuText(H.CLICK_TO_CUT),width:r,img:s,canvas:!0,scale:i,alignment:a}),t&&t.classList.toggle(`disabled`,!e)}static setResetText(t,n){e.setOptionText(t,n)}static setOptionText(e,t){let n=e?.querySelector(`img`);n&&B.drawBig({text:t,img:n,scaleToUI:!0})}static meetsRequirements(){return!0}},W=class{static noEase(e,t,n,r){return n*e/r+t}static easeOutCirc(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t}static easeInCirc(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t}static easeInOutCirc(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}static easeInSine(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}static easeOutSine(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t}static easeInOutSine(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}static easeInCubic(e,t,n,r){return n*(e/=r)*e*e+t}static easeOutCubic(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}static easeInOutCubic(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}static easeInExpo(e,t,n,r){return e==0?t:n*2**(10*(e/r-1))+t}static easeOutExpo(e,t,n,r){return e==r?t+n:n*(-(2**(-10*e/r))+1)+t}static easeInOutExpo(e,t,n,r){return e==0?t:e==r?t+n:(e/=r/2)<1?n/2*2**(10*(e-1))+t:n/2*(-(2**(-10*--e))+2)+t}static easeInBounce(e,t,n,r,i){return i??=1.70158,n*(e/=r)*e*((i+1)*e-i)+t}static easeOutBounce(e,t,n,r,i){return i??=1.70158,n*((e=e/r-1)*e*((i+1)*e+i)+1)+t}static easeInOutBounce(e,t,n,r,i){return i??=1.70158,(e/=r/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t}static easeInOutQuad(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},sr=``;j.subscribe(j.ChannelId.UserIdChanged,e=>{sr=e});var G=null;j.subscribe(j.ChannelId.RoamingSettingProvider,e=>{if(e&&typeof e==`object`){let t=e;G={set:t.set,get:t.get,remove:t.remove}}else G=null;j.publish(j.ChannelId.RoamingDataChanged)});var cr=`scores`,lr=`stars`,ur=`achievements`,dr=(e,t)=>{let n=e;return sr&&(n+=`-${sr}`),n},fr=e=>{if(!G)return null;let t=dr(e),n=[],r=(G.get(t)||``).split(`,`),i=r.length;for(let e=0;e<i;e++){let t;e<r.length?(t=parseInt(r[e]||``,16),isNaN(t)&&(t=null)):t=null,n.push(t)}return n},pr=(e,t)=>{if(!G)return;let n=dr(e);if(!t)G.remove(n);else{let e=[],r=t.length;for(let n=0;n<r;n++){let r=t[n];r==null?e.push(``):e.push(r.toString(16))}G.set(n,e.join(`,`))}},mr=(e,t)=>{if(!G)return null;let n=fr(e);return n&&n.length>t?n[t]??null:null},hr=(e,t,n)=>{if(!G)return;let r=fr(e);r&&r[t]!==n&&(r[t]=n,pr(e,r))},gr=class{static getScore(e,t){return mr(`${cr}-${e}`,t)}static setScore(e,t,n){hr(`${cr}-${e}`,t,n)}static getStars(e,t){return mr(`${lr}-${e}`,t)}static setStars(e,t,n){hr(`${lr}-${e}`,t,n)}static getAchievementCount(e){return mr(ur,e)}static setAchievementCount(e,t){hr(ur,e,t)}},_r=e=>A.boxTypes?.[e]===D.HOLIDAY?`holidaygiftbox_`:``,vr=`bp`,yr=`bs`,br=vr+`2390`,xr=M.getIntOrDefault(br,null);xr??(xr=z.randomRange(1e3,1e4),M.set(br,xr));var K=xr,Sr=(e,t)=>{let n=e*1e3+t^K,r=_r(e)+vr+n;return r===br?`${r}_`:r},Cr=(e,t,n)=>{M.set(Sr(e,t),n+t*1e3+e^K),gr.setScore(e,t,n)},wr=(e,t)=>{let n=gr.getScore(e,t)||0,r=Sr(e,t),i=M.getIntOrDefault(r,null),a=i==null?0:(i^K)-e-t*1e3;return Math.max(n,a)},Tr=-1,Er=(e,t)=>{let n=t*1e3+e^K;return _r(e)+yr+n},Dr=(e,t,n)=>{let r=n??Tr;M.set(Er(e,t),r+e*1e3+t^K),n&&gr.setStars(e,t,n)},Or=(e,t)=>{let n=gr.getStars(e,t),r=Er(e,t),i=M.getIntOrDefault(r,null),a=i==null?null:(i^K)-t-e*1e3;return a===Tr||a===null?n??null:n==null?a:Math.max(n,a)},kr=(e,t)=>{Dr(e,t,t===0?0:null),Cr(e,t,0)},Ar=class{levelCount;requiredStars;scores;stars;constructor(e,t,n,r){this.levelCount=e,this.requiredStars=t,this.scores=n||[],this.stars=r||[]}},q=new class{boxes;appReady;constructor(){this.boxes=[],this.appReady=!1,j.subscribe(j.ChannelId.SignIn,()=>this.load()),j.subscribe(j.ChannelId.SignOut,()=>this.load()),j.subscribe(j.ChannelId.RoamingDataChanged,()=>this.load()),j.subscribe(j.ChannelId.AppRun,()=>{this.appReady=!0}),j.subscribe(j.ChannelId.LanguageChanged,()=>this.updateTotalScoreText())}loadBox(e){let t=Or(e,0)!==null,n=A.boxes[e]?.levels.length??0,r=A.unlockStars[e]??0,i=[],a=[];for(let r=0;r<n;r++)t||kr(e,r),i.push(wr(e,r)),a.push(Or(e,r));if(N.createScoresForBox==e+1)for(let t=0;t<n;t++)this.setStars(e,t,3,!0);return new Ar(n,r,i,a)}load(){this.boxes.length=0;for(let e=0,t=A.boxes.length;e<t;e++)this.boxes[e]=this.loadBox(e);this.appReady&&this.updateTotalScoreText()}updateTotalScoreText(){let e=V.menuText(H.TOTAL_STARS).replace(`%d`,String(this.totalStars()));B.drawBig({text:e,imgSel:`#boxScore img`,scaleToUI:!0})}getXorValue(){return K}boxCount(){return this.boxes==null?null:this.boxes.length}levelCount(e){let t=this.boxes[e];return t==null?null:t.levelCount}requiredStars(e){let t=this.boxes[e];return t==null?0:t.requiredStars}achievedStars(e){let t=this.boxes[e];if(t!=null){let e=0;for(let n=0;n<t.levelCount;n++){let r=t.stars[n];e+=r??0}return e}return 0}totalStars(){let e=0;for(let t=0;t<this.boxes.length;t++)e+=this.achievedStars(t);return e}possibleStarsForBox(e){let t=this.boxes[e];return t==null?0:t.levelCount*3}isBoxLocked(e){if(N.unlockAllBoxes)return!1;let t=A.boxTypes?.[e]===D.HOLIDAY;return t&&!k?!0:!(e===0&&!t||this.boxes[e]!=null&&this.totalStars()>=this.requiredStars(e))}isLevelUnlocked(e,t){let n=this.boxes[e];return N.unlockAllBoxes?!0:n==null?!1:n.stars[t]!=null}setScore(e,t,n,r){let i=this.boxes[e];if(i!=null){if(r)i.scores[t]=n;else{let r=wr(e,t);i.scores[t]=Math.max(n,r)}Cr(e,t,i.scores[t]);let a=i.scores.length,o=0;for(let e=0;e<a;e++)o+=i.scores[e]??0;j.publish(j.ChannelId.UpdateBoxScore,e,o)}}getScore(e,t){let n=this.boxes[e];return n==null?null:n.scores[t]??null}setStars(e,t,n,r){let i=this.totalStars(),a=this.boxes[e];if(a!=null){let i=Or(e,t);i!=null&&!r?a.stars[t]=Math.max(n,i):a.stars[t]=n,Dr(e,t,a.stars[t])}let o=this.totalStars();o!==i&&j.publish(j.ChannelId.StarCountChanged,o)}getStars(e,t){let n=this.boxes[e];return n==null?null:n.stars[t]??null}resetGame(){let e=this.boxes.length;for(let t=0;t<e;t++){let e=this.boxes[t];if(!e)continue;let n=e.levelCount;for(let r=0;r<n;r++)kr(t,r),e.stars[r]=Or(t,r),e.scores[r]=wr(t,r)??0}this.updateTotalScoreText()}},jr=class e{static _boxPanel=null;static _dialogs=null;static registerBoxPanel(t){e._boxPanel=t}static getBoxPanel(){return e._boxPanel}static registerDialogs(t){e._dialogs=t}static getDialogs(){return e._dialogs}};j.subscribe(j.ChannelId.LanguageChanged,()=>{B.drawBig({text:V.menuText(H.BUY_FULL_GAME),imgParentId:`boxUpgradePlate`,scale:.6*I.UI_TEXT_SCALE})});var Mr=U.boxImageBaseUrl||U.uiImageBaseUrl,Nr=class{index;islocked;visible;pubSubSubscriptions;purchased;bounceStartTime;opacity;type;yOffset;boxImg;textImg;boxWidth;boxTextMargin;textRendered;renderText;reqImg;reqStars;renderReqStars;omNomImg;lockImg;starImg;perfectMark;boxLabelImg;boxLabelText;levelLabel;includeBoxNumberInTitle;constructor(e,t,r,i,a,o=null){this.index=e,this.islocked=i,this.visible=!0,this.pubSubSubscriptions=[],this.purchased=!0,this.bounceStartTime=0,this.opacity=1,this.type=a,this.yOffset=0,this.boxImg=new Image,t&&(this.boxImg.src=Mr+t);let s=this.textImg=new Image,c=this.boxWidth=I.uiScaledNumber(350),l=this.boxTextMargin=I.uiScaledNumber(20);if(this.textRendered=!1,this.renderText=()=>{B.drawBig({text:V.boxText(e,this.includeBoxNumberInTitle),img:s,width:(c-l*2)/I.UI_TEXT_SCALE,alignment:n.HCENTER,scaleToUI:!0}),this.textRendered=!0},this.pubSubSubscriptions.push(j.subscribe(j.ChannelId.LanguageChanged,this.renderText)),this.reqStars=r,this.reqImg=new Image,this.renderReqStars=()=>{this.reqImg=B.drawBig({text:String(this.reqStars),scaleToUI:!0})},this.renderReqStars(),this.pubSubSubscriptions.push(j.subscribe(j.ChannelId.LanguageChanged,this.renderReqStars)),this.omNomImg=new Image,this.omNomImg.src=`${U.uiImageBaseUrl}box_omnom.webp`,this.lockImg=new Image,this.lockImg.src=`${U.uiImageBaseUrl}box_lock.webp`,this.starImg=new Image,this.starImg.src=`${U.uiImageBaseUrl}star_result_small.webp`,this.perfectMark=new Image,this.perfectMark.src=`${U.uiImageBaseUrl}perfect_mark.webp`,this.levelLabel=o,this.boxLabelImg=new Image,this.boxLabelText=new Image,o!==null){this.boxLabelImg.src=`${U.uiImageBaseUrl}box_label.webp`;let e=()=>{B.drawBig({text:V.menuText(o),img:this.boxLabelText,alignment:n.HCENTER,scaleToUI:!0})};e(),this.pubSubSubscriptions.push(j.subscribe(j.ChannelId.LanguageChanged,e))}this.includeBoxNumberInTitle=!0}isRequired=()=>!0;isGameBox=()=>!0;isClickable=()=>!0;draw=(e,t)=>{let n=e.globalAlpha;this.opacity!==n&&(e.globalAlpha=this.opacity),this.render(e,t),this.opacity!==n&&(e.globalAlpha=n)};render=(e,t)=>{let n=this.isGameBox(),r=I.uiScaledNumber(this.yOffset||0),i=this.type===D.HOLIDAY&&!k;if(n&&(e.fillStyle=`rgb(45,45,53)`,e.fillRect(I.uiScaledNumber(130),I.uiScaledNumber(200),I.uiScaledNumber(140),I.uiScaledNumber(100)),t!=null&&e.drawImage(this.omNomImg,t+I.uiScaledNumber(4),I.uiScaledNumber(215))),e.drawImage(this.boxImg,I.uiScaledNumber(25),I.uiScaledNumber(0)+r),n){if(this.islocked){let t=this.reqImg.naturalWidth||this.reqImg.width||0,n=this.reqImg.naturalHeight||this.reqImg.height||0,a=this.starImg.naturalWidth||this.starImg.width||0,o=I.uiScaledNumber(-6),s=t+o+a,c=(I.uiScaledNumber(125)-s)/2,l=I.uiScaledNumber(140)+c;e.scale(1.015,1);let u=r;if(this.type===D.HOLIDAY&&(u+=I.uiScaledNumber(26)),e.drawImage(this.lockImg,I.uiScaledNumber(23),I.uiScaledNumber(155)+u),e.scale(1/1.015,1),this.purchased&&!i){let i=this.starImg.naturalHeight||this.starImg.height||0,a=I.uiScaledNumber(225)+r,s=25+a+(i-n)/2;e.drawImage(this.reqImg,l,s,t,n),e.drawImage(this.starImg,l+t+o,a)}}if(q.achievedStars(this.index)===q.possibleStarsForBox(this.index)&&e.drawImage(this.perfectMark,I.uiScaledNumber(50),I.uiScaledNumber(250)),this.levelLabel!==null&&this.boxLabelImg.complete){let t=I.uiScaledNumber(240),n=I.uiScaledNumber(280);if(e.drawImage(this.boxLabelImg,t,n),this.boxLabelText.complete){let r=this.boxLabelImg.naturalWidth||this.boxLabelImg.width||0,i=this.boxLabelImg.naturalHeight||this.boxLabelImg.height||0,a=this.boxLabelText.naturalWidth||this.boxLabelText.width||0,o=this.boxLabelText.naturalHeight||this.boxLabelText.height||0,s=t+r/2,c=n+i/2,l=.5,u=a*l,d=o*l,f=I.uiScaledNumber(4);e.save(),e.translate(s,c),e.rotate(-16*Math.PI/180),e.drawImage(this.boxLabelText,-u/2,-d/2+f,u,d),e.restore()}}}this.textRendered||this.renderText();let a=this.textImg.naturalWidth||this.textImg.width||0;this.textImg.naturalHeight||this.textImg.height;let o=Math.trunc(I.uiScaledNumber(25)+this.boxTextMargin+(this.boxWidth-this.boxTextMargin*2-a)/2),s=I.uiScaledNumber(70);e.drawImage(this.textImg,o,s)};bounce=e=>{if(!e)return;this.bounceStartTime=Date.now();let t=I.uiScaledNumber(1024),n=I.uiScaledNumber(576),r=()=>{let i=Date.now()-this.bounceStartTime,a,o=1,s=1;i<100?(a=W.easeOutSine(i,0,.05,100),o=1-a,s=1+a):i<300?(a=W.easeInOutCubic(i-100,0,.11,200),o=.95+a,s=1.05-a):i<600&&(a=W.easeOutCubic(i-300,0,.06,300),o=1.06-a,s=.94+a);let c=(t-t*o)/2,l=(n-n*s)/2,u=(t-2*c)/t,d=(n-2*l)/n;!isNaN(u)&&!isNaN(d)&&(e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(I.uiScaledNumber(312),I.uiScaledNumber(80),I.uiScaledNumber(400),I.uiScaledNumber(500)),e.restore(),e.save(),e.scale(u,d),e.translate(c,l),e.translate(I.uiScaledNumber(312),I.uiScaledNumber(130)),this.draw(e,I.uiScaledNumber(140)),e.restore()),i>600?this.bounceStartTime=0:window.requestAnimationFrame(r)};r()};cancelBounce=()=>{this.bounceStartTime=0};destroy=()=>{if(this.pubSubSubscriptions)for(;this.pubSubSubscriptions.length;){let e=this.pubSubSubscriptions.pop();e&&j.unsubscribe(e)}}},Pr=class extends Nr{includeBoxNumberInTitle;constructor(e,t,n,r,i){super(e,t,n,r,i),this.includeBoxNumberInTitle=!1}isRequired=()=>!1;isGameBox=()=>!1;isClickable=()=>!1},Fr=[1362384e6,13629852e5,136359e7,13641948e5,13647996e5,13654044e5],Ir=[9240,7453,3646,7305,5093,3829],Lr=`bk`,Rr=q.getXorValue(),zr=e=>Lr+((Ir[e]??0)^Rr),Br=e=>{let t=zr(e);return M.getIntOrDefault(t,0)!==((Ir[e]??0)-1e3^Rr)&&!N.unlockAllBoxes},Vr=e=>{let t=zr(e),n=(Ir[e]??0)-1e3^Rr;M.set(t,n)},J=null;document.addEventListener(`DOMContentLoaded`,()=>{J=document.getElementById(`boxEnterCodeButton`),J&&(J.style.display=`none`)});var Y=null,X=null,Z=null,Q=null,Hr=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],Ur=class extends Nr{lockedBoxImg;isBkCodeLocked;isTimeLocked;dateImg;static unlockBox=Vr;static isLocked=Br;constructor(e,t,n,r,i){super(e,t,n,r,i),this.lockedBoxImg=new Image,this.lockedBoxImg.src=this.boxImg.src.replace(`.webp`,`_locked.webp`),this.isBkCodeLocked=Br(e),this.isTimeLocked=N.unlockAllBoxes!==!0&&Date.now()<(Fr[e]??0),this.dateImg=null}isClickable=()=>!this.isTimeLocked&&!this.isBkCodeLocked;onSelected=()=>{!this.isTimeLocked&&this.isBkCodeLocked&&J&&(J.style.removeProperty(`display`),window.getComputedStyle(J).display===`none`&&(J.style.display=`block`),J.style.transition=`opacity 400ms ease`,J.style.opacity=`0`,J.getBoundingClientRect(),J.style.opacity=`1`)};onUnselected=()=>{J&&(J.style.display=`none`,J.style.transition=``)};render=(e,t)=>{let r=this.islocked||this.isTimeLocked||this.isBkCodeLocked;if(e.drawImage(r?this.lockedBoxImg:this.boxImg,I.uiScaledNumber(25),I.uiScaledNumber(0)),this.isTimeLocked){if(Y||(Y=new Image,B.drawBig({text:`Available starting from`,img:Y,alignment:n.HCENTER,width:I.uiScaledNumber(250)})),Y.complete&&e.drawImage(Y,I.uiScaledNumber(100),I.uiScaledNumber(120),Y.width*.8*I.UI_TEXT_SCALE,Y.height*.8*I.UI_TEXT_SCALE),!this.dateImg){this.dateImg=new Image;let e=new Date(Fr[this.index]??0);B.drawBig({text:`${Hr[e.getMonth()]} ${e.getDate()}`,img:this.dateImg,width:I.uiScaledNumber(200),alignment:n.HCENTER})}this.dateImg.complete&&e.drawImage(this.dateImg,I.uiScaledNumber(77),I.uiScaledNumber(195),this.dateImg.width*1.2*I.UI_TEXT_SCALE,this.dateImg.height*1.2*I.UI_TEXT_SCALE)}else if(this.isBkCodeLocked)Q||(Q=new Image,B.drawBig({text:`Visit Burger King to get an
 unlock code!`,img:Q,alignment:n.HCENTER,width:I.uiScaledNumber(280)}),B.drawBig({text:`Enter Code`,imgParentId:`boxEnterCodeButton`,scaleToUI:!0})),Q.complete&&e.drawImage(Q,I.uiScaledNumber(50),I.uiScaledNumber(90));else if(this.islocked){X||(X=new Image,B.drawBig({text:`Collect`,img:X,scaleToUI:!0})),X.complete&&e.drawImage(X,I.uiScaledNumber(143),I.uiScaledNumber(108));let t=this.reqImg&&(this.reqImg.offsetWidth||this.reqImg.width)||0,n=this.reqImg&&(this.reqImg.offsetHeight||this.reqImg.height)||0,r=t*1.2,i=n*1.2,a=this.starImg&&(this.starImg.offsetWidth||this.starImg.width)||0,o=r+I.uiScaledNumber(-4)+a,s=(I.uiScaledNumber(125)-o)/2,c=I.uiScaledNumber(140)+s;e.drawImage(this.starImg,c,I.uiScaledNumber(160)),e.drawImage(this.reqImg,c+a,I.uiScaledNumber(150),r,i),Z||(Z=new Image,B.drawBig({text:`to unlock`,img:Z,scaleToUI:!0})),Z.complete&&e.drawImage(Z,I.uiScaledNumber(130),I.uiScaledNumber(204))}}},Wr=class e{static boxes=[];static isPaid=!1;static appIsReady=!1;static currentBoxIndex=e.getDefaultBoxIndex();static currentLevelIndex=1;static getDefaultBoxIndex(){return k?0:1}static appReady(){this.appIsReady=!0,this.loadBoxes()}static loadBoxes(){this.appIsReady&&(this.currentBoxIndex=this.getDefaultBoxIndex(),this.currentLevelIndex=1,this.createBoxes(),this.updateVisibleBoxes())}static createBoxes(){let{boxImages:e,boxTypes:t,levelLabels:n}=A;for(;this.boxes.length;)this.boxes.pop()?.destroy();for(let r=0;r<t.length;r++){let i=t[r]??D.NORMAL,a=e[r]??null,o=q.requiredStars(r),s=q.isBoxLocked(r),c=n[r]??null,l;switch(i){case D.MORECOMING:l=new Pr(r,a,o,s,i);break;case D.TIME:l=new Ur(r,a,o,s,i);break;case D.HOLIDAY:l=new Nr(r,a,o,s,i,c),l.yOffset=-26;break;default:l=new Nr(r,a,o,s,i,c);break}this.boxes.push(l)}}static updateVisibleBoxes(){let e=[];for(let t=0;t<this.boxes.length;t++){let n=this.boxes[t];n&&(n.index=t,n.visible&&e.push(n))}j.publish(j.ChannelId.UpdateVisibleBoxes,e)}static isNextLevelPlayable(){let e=q.levelCount(this.currentBoxIndex);return!(e==null||e<=this.currentLevelIndex)}static requiredCount(){return this.boxes.filter(e=>e.isRequired()).length}static possibleStars(){return this.boxes.reduce((e,t,n)=>t.isRequired()?e+q.possibleStarsForBox(n):e,0)}static visibleGameBoxes(){return this.boxes.filter(e=>e.isRequired()&&e.purchased!==!1).length}static resetLocks(){for(let e=1;e<this.boxes.length;e++){let t=this.boxes[e];t&&t.isGameBox()&&(t.islocked=!0)}jr.getBoxPanel()?.redraw()}static updateBoxLocks(){let e=!1;for(let t=1;t<this.boxes.length;t++){let n=this.boxes[t];n&&!q.isBoxLocked(t)&&n.purchased&&n.islocked&&(n.islocked=!1,e=!0,q.setStars(t,0,0,!1))}e&&jr.getBoxPanel()?.redraw()}static initializeEventSubscriptions(){j.subscribe(j.ChannelId.SelectedBoxChanged,(...e)=>{let[t]=e;typeof t==`number`&&(this.currentBoxIndex=t,this.currentLevelIndex=1)}),j.subscribe(j.ChannelId.SetPaidBoxes,(...e)=>{let[t]=e;typeof t==`boolean`&&(this.isPaid=t)});let e=[j.ChannelId.SignIn,j.ChannelId.SignOut,j.ChannelId.RoamingDataChanged,j.ChannelId.BoxesUnlocked];for(let t of e)j.subscribe(t,()=>this.loadBoxes())}};Wr.initializeEventSubscriptions();var $=Wr,Gr=e=>e.complete&&e.naturalWidth>0&&e.naturalHeight>0,Kr=class e{static#doorImages=[];static#tapeImgL=new Image;static#tapeImgR=new Image;static canvasLeft=null;static canvasRight=null;static currentIndex=null;static showTape=!0;static initializeDoors(){let t=e.#getDoorCanvases();if(!t){e.canvasLeft=null,e.canvasRight=null;return}let{left:n,right:r}=t;e.canvasLeft=n,e.canvasRight=r;let i=I.uiScaledNumber(1024)/2|0,a=I.uiScaledNumber(576);n.width=i,r.width=i,n.height=a,r.height=a,e.currentIndex=$.currentBoxIndex,e.showTape=!0}static appReady(){for(let t=0,n=A.boxDoors.length;t<n;t++){let n=A.boxDoors[t];if(!n)continue;let r=new Image;r.src=U.uiImageBaseUrl+n,e.#doorImages[t]=r}e.#tapeImgL.src=`${U.uiImageBaseUrl}leveltape_left.webp`,e.#tapeImgR.src=`${U.uiImageBaseUrl}leveltape_right.webp`,e.preRenderDoors()}static preRenderDoors(){let t=e.#requireDoorCanvases();if(!t)return;let{left:n,right:r}=t,i=n.getContext(`2d`),a=r.getContext(`2d`);if(!i||!a)return;let o=e.#doorImages[$.currentBoxIndex];if(!o){i.clearRect(0,0,n.width,n.height),a.clearRect(0,0,r.width,r.height);return}let s=[o];e.showTape&&s.push(e.#tapeImgL,e.#tapeImgR);let c=s.filter(e=>!Gr(e));if(c.length>0){c.forEach(t=>{t.addEventListener(`load`,e.preRenderDoors,{once:!0})});return}i.clearRect(0,0,n.width,n.height),a.clearRect(0,0,r.width,r.height),i.drawImage(o,0,0),a.save(),a.translate(o.width,o.height),a.rotate(Math.PI),a.drawImage(o,0,0),a.restore(),e.showTape&&(i.drawImage(e.#tapeImgL,n.width-I.uiScaledNumber(26),I.uiScaledNumber(10)),a.drawImage(e.#tapeImgR,0,I.uiScaledNumber(10)))}static renderDoors(t=!0,n=0){(e.currentIndex!==$.currentBoxIndex||e.showTape!==t)&&(e.currentIndex=$.currentBoxIndex,e.showTape=t,e.preRenderDoors());let r=n,i=e.canvasLeft?.width??0,a=i-i*(1-r);!e.canvasLeft||!e.canvasRight||(e.canvasLeft.style.transform=`translateX(${-1*a}px)`,e.canvasRight.style.transform=`translateX(${i+a}px)`)}static openDoors(t=!0,n,r=!1){let i=t,a=r,o=Date.now(),s=a?W.easeOutCubic:W.easeInOutCubic,c=document.getElementById(`levelPanel`),l=()=>{let t=s(Date.now()-o,0,1,750);t<1?(e.renderDoors(i,a?1-t:t),window.requestAnimationFrame(l)):(e.renderDoors(i,a?0:1),c instanceof HTMLElement&&(c.style.display=a?`block`:`none`),n&&n())};window.requestAnimationFrame(l)}static closeDoors(t=!0,n){e.openDoors(t,n,!0)}static closeBoxAnimation(t){let n=document.getElementById(`tapeRoll`),r=document.getElementById(`levelTape`),i=document.getElementById(`levelResults`);if(!(n instanceof HTMLElement)||!(r instanceof HTMLElement))return;let a=i instanceof HTMLElement?i:null;qr(a,400,()=>{n.style.top=`${I.uiScaledNumber(0)}px`,setTimeout(()=>{Jr(n,200,()=>{let i=I.uiScaledNumber(650);I.uiScaledNumber(553);let o=Date.now(),s=parseInt(n.style.top,10)||0,c=I.uiScaledNumber(63),l=1e3;r.style.height=`${c}px`,r.style.display=`block`;let u=()=>{let d=Date.now()-o,f=W.easeInOutCubic(d,s,i-s,l),p=W.easeInOutCubic(d,c,i-c,l);n.style.top=`${f}px`,r.style.height=`${p}px`,d<l?window.requestAnimationFrame(u):(r.style.display=`none`,e.renderDoors(!0),qr(n,400,()=>{a&&(a.style.opacity=`1`),t&&window.setTimeout(()=>t(),200)}))};window.requestAnimationFrame(u)})},400)})}static openBoxAnimation(t){e.renderDoors(!0,0);let n=document.getElementById(`boxCutter`);n instanceof HTMLElement&&(n.style.top=`${I.uiScaledNumber(371)}px`,window.setTimeout(()=>{Jr(n,200,()=>{let e=I.uiScaledNumber(-255),r=Date.now(),i=parseInt(n.style.top,10)||0,a=1e3,o=()=>{let s=Date.now()-r,c=W.easeInOutCubic(s,i,e-i,a);n.style.top=`${c}px`,s<a?window.requestAnimationFrame(o):qr(n,300,t)};window.requestAnimationFrame(o)})},200))}static#getDoorCanvases(){let e=document.getElementById(`levelCanvasLeft`),t=document.getElementById(`levelCanvasRight`);return e instanceof HTMLCanvasElement&&t instanceof HTMLCanvasElement?{left:e,right:t}:null}static#requireDoorCanvases(){return e.canvasLeft&&e.canvasRight?{left:e.canvasLeft,right:e.canvasRight}:e.#getDoorCanvases()}};document.readyState===`loading`?document.addEventListener(`DOMContentLoaded`,()=>Kr.initializeDoors(),{once:!0}):Kr.initializeDoors();var qr=(e,t,n)=>{if(!e){n&&n();return}e.style.transition=`opacity ${t}ms`,e.style.opacity=`0`,window.setTimeout(()=>{e.style.display=`none`,e.style.transition=``,n&&n()},t)},Jr=(e,t,n)=>{if(!e){n&&n();return}e.style.opacity=`0`,e.style.display=`block`,e.style.transition=`opacity ${t}ms`,e.offsetHeight,e.style.opacity=`1`,window.setTimeout(()=>{e.style.transition=``,n&&n()},t)},Yr=Kr;export{Pt as $,xt as $t,b as A,ye as An,ke as At,Vt as B,v as Bn,Ke as Bt,Tn as C,fn as Cn,tt as Ct,E as D,Se as Dn,Qe as Dt,D as E,mn as En,Ze as Et,we as F,be as Fn,ze as Ft,Jt as G,a as Gn,Le as Gt,Gt as H,l as Hn,Fe as Ht,Te as I,ue as In,Be as It,an as J,n as Jn,wt as Jt,qt as K,i as Kn,Ie as Kt,De as L,y as Ln,Ge as Lt,ge as M,he as Mn,je as Mt,pe as N,fe as Nn,Me as Nt,bn as O,de as On,$e as Ot,Ce as P,xe as Pn,Re as Pt,Ft as Q,yt as Qt,Ee as R,re as Rn,We as Rt,A as S,dn as Sn,et as St,O as T,hn as Tn,Xe as Tt,Wt as U,c as Un,Pe as Ut,Kt as V,f as Vn,qe as Vt,Ut as W,o as Wn,Ne as Wt,sn as X,vt as Xt,cn as Y,e as Yn,St as Yt,It as Z,bt as Zt,I as _,Je as _n,$t as _t,W as a,it as an,Ot as at,M as b,un as bn,Tt as bt,V as c,ft as cn,jt as ct,er as d,_t as dn,nn as dt,ct as en,Nt as et,$n as f,gt as fn,rn as ft,L as g,He as gn,en as gt,Un as h,Ve as hn,Yt as ht,q as i,ot as in,zt as it,_e as j,me as jn,Ae as jt,w as k,ve as kn,Oe as kt,B as l,ht as ln,At as lt,Gn as m,dt as mn,Xt as mt,$ as n,st as nn,Lt as nt,U as o,at as on,Dt as ot,Jn as p,ut as pn,tn as pt,on as q,r as qn,Ct as qt,jr as r,rt as rn,Bt as rt,H as s,pt as sn,Mt as st,Yr as t,lt as tn,Rt as tt,z as u,mt as un,kt as ut,F as v,Ye as vn,Qt as vt,k as w,pn as wn,nt as wt,j as x,gn as xn,Et as xt,N as y,ln as yn,Zt as yt,Ht as z,ne as zn,Ue as zt};