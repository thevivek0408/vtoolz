<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2048 - VtoolZ Arcade</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../style.css">
    <style>
        .game-container {
            width: 500px;
            max-width: 90vw;
            /* limit width on mobile */
            max-height: 90vw;
            /* limit height if aspect ratio is squarish */
            margin: 0 auto;
            background: #bbada0;
            border-radius: 6px;
            padding: 15px;
            position: relative;
            touch-action: none;
            box-sizing: border-box;
            /* ensure padding is included */
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 15px;
            width: 100%;
            aspect-ratio: 1;
            /* Make it square */
            background: #bbada0;
            border-radius: 6px;
        }

        .grid-cell {
            background: rgba(238, 228, 218, 0.35);
            border-radius: 3px;
            width: 100%;
            height: 100%;
        }

        .tile-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 15px;
            /* Match game-container padding */
            pointer-events: none;
        }

        /* Positioning logic handled by JS class names or inline styles */

        .tile {
            position: absolute;
            width: calc((100% - 30px - 45px) / 4);
            /* (100% - padding*2 - gap*3) / 4 */
            height: calc((100% - 30px - 45px) / 4);
            /* But using percentage is tricky with gap */
            /* Let's rely on JS for precise positioning or use CSS grid for tiles too? 
               Standard 2048 uses absolute positioning for animations. width â‰ˆ 106px for 500px container
            */
            /* Simpler approach: CSS Variable based positioning */
            width: calc((100% - 30px - 45px) / 4);
            height: calc((100% - 30px - 45px) / 4);
            background: #eee4da;
            border-radius: 3px;
            text-align: center;
            font-weight: bold;
            z-index: 10;
            font-size: 55px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 100ms ease-in-out, background-color 100ms;
            animation: appear 200ms ease;
            color: #776e65;
        }

        /* Responsive Tile Sizing */
        @media (max-width: 520px) {
            .game-container {
                padding: 10px;
                width: 90vw;
                /* Ensure it doesn't overflow */
                margin-top: 20px;
            }

            .grid-container {
                gap: 10px;
            }

            /* Recalculate tile sizing for smaller gap/padding */
            .tile {
                /* 
                    width = (100% - 20px (container padding) - 30px (gaps)) / 4 
                    But wait, tile-container matches game-container padding.
                    Let's just use simpler % math.
                 */
                font-size: 35px;
            }
        }

        /* Tile Colors */
        .tile-2 {
            background: #eee4da;
        }

        .tile-4 {
            background: #ede0c8;
        }

        .tile-8 {
            background: #f2b179;
            color: #f9f6f2;
        }

        .tile-16 {
            background: #f59563;
            color: #f9f6f2;
        }

        .tile-32 {
            background: #f67c5f;
            color: #f9f6f2;
        }

        .tile-64 {
            background: #f65e3b;
            color: #f9f6f2;
        }

        .tile-128 {
            background: #edcf72;
            color: #f9f6f2;
            font-size: 45px;
        }

        .tile-256 {
            background: #edcc61;
            color: #f9f6f2;
            font-size: 45px;
        }

        .tile-512 {
            background: #edc850;
            color: #f9f6f2;
            font-size: 45px;
        }

        .tile-1024 {
            background: #edc53f;
            color: #f9f6f2;
            font-size: 35px;
        }

        .tile-2048 {
            background: #edc22e;
            color: #f9f6f2;
            font-size: 35px;
        }

        @keyframes appear {
            0% {
                opacity: 0;
                transform: scale(0);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            width: 500px;
            max-width: 90vw;
            margin: 0 auto 20px;
        }

        .score-container {
            background: #bbada0;
            padding: 5px 20px;
            border-radius: 6px;
            color: white;
            text-align: center;
            min-width: 100px;
        }

        .score-title {
            font-size: 13px;
            color: #eee4da;
            text-transform: uppercase;
        }

        .score-val {
            font-size: 25px;
            font-weight: bold;
        }

        .game-over-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(238, 228, 218, 0.73);
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }

        .game-over-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <a href="../../index.html" class="logo">VtoolZ</a>
            <nav>
                <ul>
                    <li><a href="../index.html">Games Hub</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container" style="margin-top: 40px; text-align: center;">
        <div class="actions">
            <div style="text-align:left;">
                <h1 style="color: #776e65; font-size: 50px; line-height:1; margin-bottom:0;">2048</h1>
                <p style="color: #776e65;">Join the numbers!</p>
            </div>
            <div style="display:flex; gap:10px;">
                <div class="score-container">
                    <div class="score-title">Score</div>
                    <div class="score-val" id="score">0</div>
                </div>
                <div class="score-container">
                    <div class="score-title">Best</div>
                    <div class="score-val" id="best-score">0</div>
                </div>
            </div>
        </div>

        <div class="game-container" id="game-container">
            <div class="grid-container">
                <!-- 16 grid cells -->
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
                <div class="grid-cell"></div>
            </div>
            <div class="tile-container" id="tile-container"></div>

            <div class="game-over-overlay" id="game-over">
                <h2 style="font-size:60px; color:#776e65; margin-bottom:20px;">Game Over!</h2>
                <button class="btn btn-primary" onclick="window.game.restart()">Try Again</button>
            </div>
        </div>

        <p class="game-controls-help">
            Use <strong>Arrow Keys</strong> or <strong>Swipe</strong> to move tiles.
            <br>
            <button class="btn btn-secondary" style="margin-top:20px;" onclick="window.game.restart()">Restart
                Game</button>
        </p>

    </main>

    <script src="script.js"></script>
</body>

</html>